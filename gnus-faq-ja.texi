@c \input texinfo @c -*-texinfo-*-
@c Uncomment 1st line before texing this file alone.
@c %**start of header
@c Copyright (C) 1995, 2001, 2002, 2003, 2004, 2005 Free Software Foundation, Inc.
@c
@c Do not modify this file, it was generated from gnus-faq.xml, available from
@c <URL:http://my.gnus.org/FAQ/>.
@c
@setfilename gnus-faq-ja
@settitle Frequently Asked Questions
@c %**end of header
@c

@node Frequently Asked Questions
@section よく尋ねられる質問

@menu
* FAQ - Changes::
* FAQ - Introduction::         Gnus およびこの FAQ について
* FAQ 1 - Installation FAQ::   Gnus のインストール
* FAQ 2 - Startup / Group buffer:: 起動に関する質問と、最初に表示するバッファ
* FAQ 3 - Getting Messages::   Gnus でメールとニュースを読めるようにする
* FAQ 4 - Reading messages::   効率良くメッセージを読む方法
* FAQ 5 - Composing messages:: メッセージの作成、または Usenet への投稿
* FAQ 6 - Old messages::       移入、書庫への保存、検索、およびメッセージの消去
* FAQ 7 - Gnus in a dial-up environment:: オフラインでメールとニュースを読む
* FAQ 8 - Getting help::       この FAQ では不充分だったら
* FAQ 9 - Tuning Gnus::        Gnus を速くするには
* FAQ - Glossary::             この FAQ で使われる用語
@end menu

@subheading 要約

これは新しい Gnus のよく尋ねられる質問のリストです。Web ブラウザーがあれ
ば、@uref{http://my.gnus.org/FAQ/} にある公式なハイパーテキスト版を読む
ことができます。Docbook のソース
は @uref{http://sourceforge.net/projects/gnus/,
http://sourceforge.net} から手に入れることができます。

機能に関することや提案は @email{faq-discuss@@my.gnus.org, FAQ discussion
list} に送って下さい。このメーリングリスト
は @uref{http://smarden.org/qconfirm/index.html, qconfirm} によって、ご
みメールから守られています。参加者からの投稿は自動的に通過するでしょう。
さらに、空のメールを @email{faq-discuss-subscribe@@my.gnus.org,
faq-discuss-subscribe@@my.gnus.org} に送るか、
@uref{http://mail1.kens.com/cgi-bin/ezmlm-browse?command=monthbythread%26list=faq-discuss,
ここを閲覧} することによっても、このメーリングリストを講読することができ
ます。

@node FAQ - Changes
@subheading 変更履歴

@itemize @bullet
@item
Gnus 5.10 のリリースと No Gnus の開発の開始を反映して FAQ を更新しました。
@end itemize

@node FAQ - Introduction
@subheading 序

これは Gnus のよく尋ねられる質問のリストです。

Gnus は Emacs の要素として実装された Usenet ニュースリーダーおよび電子メー
ルのユーザーエージェントです。それはほぼこの十年間何らかの形で存在してお
り、その期間の多くにおいて Emacs の標準要素として配布されてきました。
Gnus 5 は最新の (そして最も偉大な) 作品です。オリジナルの版は GNUS と言
い、梅田政信さんが書きました。1994年の秋が忍び寄る頃、退屈していたラルス・
マッグヌ・イングブリグットスン (Lars Magne Ingebrigtsen) は Gnus を書き
直そうと決心しました。

その最大の強みは、極めてカスタマイズに適しているという事実にあります。こ
のことを始めて目にすると引いてしまうかもしれませんが、それを利用する準備
ができるまでは、複雑なもののほとんどは無視することができます。そこそこの
量の (いろんなメーリングリストに配信される) 電子メールがやって来るのなら
ば、流通量が多いメーリングリストを読みたいけれども遅れずについていくこと
ができないのならば、流通量が多いニュースグループを読んでいるのならば、あ
るいは単に退屈しているのならば、Gnus はあなたが望むものです。

この FAQ は 2002年3月まで Justin Sheehy によって維持されていました。彼は、
それ以前にすばらしい仕事をしてくれた Steve Baur と Per Abrahamsen に感謝
を表明しています。私たちも同じことをしましょう - ありがとう Justin!

Web ブラウザーがあれば、@uref{http://my.gnus.org/FAQ/} にある公式なハイ
パーテキスト版を読むことができます。この版は、ユトレヒト大学、オックス
フォード、Smart Pages、オハイオ州立大学 に保存されている非公式なハイパー
テキスト版や他の FAQ の書庫に比べて、はるかに良いものです。別のフォーマッ
トでそれを手に入れるための情報が欲しいなら、以下にある質問集を見て下さい。

ここにある情報は、Gnus 開発メーリングリストの援助でコンパイルされました。
どんなエラーあるいはミスプリントも my.gnus.org チームが犯した誤りです。
すみません。

訳注: そしてどんな誤訳の責任も gnus-doc-ja チームにあります。

@node FAQ 1 - Installation FAQ
@subsection インストールに関する FAQ

@menu
* [1.1]::    Gnus の最新版は何ですか?
* [1.2]::    5.10 では何が新しいですか?
* [1.3]::    Gnus はどこで、どうやって取得することができますか?
* [1.4]::    tarball で何をすれば良いですか?
* [1.5]::    ときどき目にする No Gnus と Oort Gnus って何ですか?
* [1.6]::    Emacs のどの版が必要ですか?
* [1.7]::    Gnus を Emacs と XEmacs の両方で走らせるには?
@end menu

@node [1.1]
@subsubheading 質問 1.1

Gnus の最新版は何ですか?

@subsubheading 回答

ジャーン: Gnus 5.10 がリリースされました。熱いうちに召し上がれ!@*
バージョン番号の歩みがいささか小さいだけではなく、Gnus 5.10 には見逃せな
い何トンもの新しい機能があります。現在のリリース (5.10.6) は、少なくと
も 5.8 系のリリースの最新版と同じくらい安定なはずです。

@node [1.2]
@subsubheading 質問 1.2

5.10 では何が新しいですか?

@subsubheading 回答

第一に、Gnus tarball の先頭のディレクトリーにある GNUS-NEWS ファイルに目
を通すべきです。そこでは最も重要な変更が羅列されています。ここでは私が特
に重要だ/興味深いと感じたものの、短いリストを挙げるに留めます:

@itemize @bullet
@item
Gnus エージェントの大幅な書き直し。ディフォルトで有効になっています。

@item
見苦しく形成された記事を洗濯するための多くの機能。

@item
Spam 除け機能。

@item
Message-utils が Gnus に含まれました。@*
(訳注: Holger Schauer さんが書いた message-utils.el の諸機能
が message.el に移入されました。)

@item
概略行のための新しい書法仕様。例えば %B は複雑な trn 様式のスレッド
木 (tree) を指定する書法仕様です。
@end itemize

@node [1.3]
@subsubheading 質問 1.3

Gnus はどこで、どうやって取得することができますか?

@subsubheading 回答

リリースされた最新版の Gnus は Emacs 21 に含まれていないので、
@uref{http://www.gnus.org/dist/gnus.tar.gz} から、または匿
名 ftp で @uref{http://www.gnus.org/dist/gnus.tar.gz} から、
Gnus の tarball を取得する必要があります。Emacs ではなくて XEmacs を使っ
ているのなら、XEmacs のパッケージシステムを使うことができます。

@node [1.4]
@subsubheading 質問 1.4

tarball で何をすれば良いですか?

@subsubheading 回答

@samp{tar xvzf gnus.tar.gz} で書庫を展開して、ありふれた@*
@samp{./configure; make; make install} の手順を実行して下さい。

@quotation
訳注: これだと gnus.elc を含むたくさんのファイルを @file{site-lisp/} ディ
レクトリーの直下にばらまいてしまうので、以下のようにサブディレクトリーを
指定してインストールすることをお勧めします。

@example
./configure --with-lispdir=/usr/local/share/emacs/site-lisp/gnus
make
make install
@end example

configure の他のオプションは、@samp{./configure --help} で知ることができ
ます。
@end quotation

(MS-Windows では @uref{http://www.cygwin.com} から Cygwin の環境も取得し
て下さい。それは上述のことどもを行なうこと、またはある梱包器 (packer)
(例えば @uref{http://www.winace.com} にある Winace) で tarball を開梱す
ること、そして tarball に含まれている Gnus をインストールするためのバッ
チファイル @file{make.bat} を使うことを可能にします。)  Gnus をシステム
領域にインストールしたくない (またはその権限が与えられていない) ならば、
ホームディレクトリーにインストールすることもできます。その場合
は @file{~/.xemacs/init.el} ファイルか @file{.emacs} ファイルに以下の行
を加えて下さい。

@lisp
(add-to-list 'load-path "/path/to/gnus/lisp")
(if (featurep 'xemacs)
    (add-to-list 'Info-directory-list "/path/to/gnus/texi/")
  (add-to-list 'Info-default-directory-list "/path/to/gnus/texi/"))
@end lisp

@noindent
この行より前に、確実にどんな Gnus に関係するものも無いようにして下さい。
MS Windows では "C:/path/to/lisp" のように書いて下さい (そう、"/" です)。

@node [1.5]
@subsubheading 質問 1.5

ときどき目にする No Gnus と Oort Gnus って何ですか?

@subsubheading 回答

Oort Gnus は Gnus の開発版の名前で、2003年の秋に Gnus 5.10 になりました。
No Gnus は現行の開発版の名前で、Gnus 5.12 か Gnus 6 になるでしょう。(な
ぜ 5.11 ではないのかが不思議ですか?  奇数のバージョン番号は通常 Emacs に
同梱される Gnus の版に使われるのです。)

@node [1.6]
@subsubheading 質問 1.6

Emacs のどの版が必要ですか?

@subsubheading 回答

Gnus 5.10 は Emacs 20.7 以上、または XEmacs 21.1 以上を必要とします。開
発版の Gnus (No Gnus として知られているも
の) は Emacs 21 か XEmacs 21.4 を必要とします。

@node [1.7]
@subsubheading 質問 1.7

Gnus を Emacs と XEmacs の両方で走らせるには、どうすれば良いですか?

@subsubheading 回答

バイトコンパイルされた Gnus の同じコピーを両者で使うことはできません。
Emacs では Emacs でコンパイルしたものを、XEmacs では XEmacs でコンパイル
したものを使って下さい。

@node FAQ 2 - Startup / Group buffer
@subsection 起動 / グループバッファ

@menu
* [2.1]:: 　いつも Gnus を起動すると
            "Gnus auto-save file exists. Do you want to read it?"
            というメッセージを受け取るのですが、これは何を意味し
            ているのですか?  また、どうやったら回避できますか?

* [2.2]:: 　Gnus は私がどのグループを講読するかを覚えてくれませ
            ん。どうしてですか?

* [2.3]:: 　グループバッファの各行の形式を変更するには、どうした
            ら良いですか?

* [2.4]:: 　私のグループバッファはちょっと混んでいるのですが、
            それらを楽に巡回できるように、カテゴリーごとにまとま
            るように並べ変える方法はありますか?

* [2.5]:: 　グループバッファを手で並べ変えるにはどうしたら良いで
            すか? トピック内のグループを並べ変えるにはどうしたら
            良いですか?
@end menu

@node [2.1]
@subsubheading 質問 2.1

いつも Gnus を起動すると "Gnus auto-save file exists. Do you want to
read it?" というメッセージを受け取るのですが、これは何を意味しているので
すか?  また、どうやったら回避できますか?

@subsubheading 回答

このメッセージが意味するのは、最後に Gnus を使ったときに適切に終了させな
かったために、ディスクにその情報 (例えばどのメッセージを読んだかの) を書
き込むことができなかったので、今、それらの情報を自動保存 (auto-save) ファ
イルから復活させるかどうかを尋ねられているということです。

このメッセージが発せられるのを回避するには、Gnus を終了させるときに単
に Emacs を kill するのではなく、グループバッファで @kbd{q} を使うように
して下さい。

@node [2.2]
@subsubheading 質問 2.2

Gnus は私がどのグループを講読するかを覚えてくれません。どうしてですか?

@subsubheading 回答

Gnus を起動したときに、上記の質問と回答 (@pxref{[2.1]}) で述べられている
メッセージを受け取りませんでしたか?  これは同じ問題の別の症状なので、上
記の回答を読んでください。

@node [2.3]
@subsubheading 質問 2.3

グループバッファの各行の形式を変更するには、どうしたら良いですか?

@subsubheading 回答

変数 @code{gnus-group-line-format} の値を調整しなければなりません。その
やり方についてはマニュアル (@pxref{Group Line Specification, ,
グループ行の仕様, gnus-ja, The Gnus Manual}) を見て下さい。このための例
です (質問者の @file{~/.gnus.el} ファイルからの推測です :-):

@lisp
(setq gnus-group-line-format "%P%M%S[%5t]%5y : %(%g%)\n")
@end lisp

@node [2.4]
@subsubheading 質問 2.4

私のグループバッファはちょっと混んでいるのですが、それらを楽に巡回できる
ように、カテゴリーごとにまとまるように並べ変える方法はありますか?

@subsubheading 回答

Gnus はトピックモードを提供します。それはグループをその中へ入れて並べ変
えることを可能にします。えーとトピックを使うというのは、例えば Linux を
扱うすべてのグループは linux というトピックに収め、音楽を扱うすべて
は music というトピックに収め、スコットランド音楽を扱うすべて
は scottish という music のサブトピックに収める、といったことです。

トピックモードに入るには、グループバッファで単に @kbd{t} を叩いて下さい。
すると @kbd{T n} を使って現在位置でトピックを作ったり、あるグループ
を @kbd{T m} を使って指定したトピックに移すことができます。さらなるコマ
ンドについてはマニュアルかメニューを見て下さい。グループ行をより良く行下
げ (indent) させるために、@code{gnus-group-line-format} 変数の先頭
に @code{%P} 書法仕様を含ませる必要があるかもしれません。

@node [2.5]
@subsubheading 質問 2.5

グループバッファを手で並べ変えるにはどうしたら良いですか? トピック内のグ
ループを並べ変えるにはどうしたら良いですか?

@subsubheading 回答

移動させたいグループの上にポイントを移動して @kbd{C-k} を叩き、次にその
グループを移動させる目的の場所にポイントを移動して @kbd{C-y} を叩いて下
さい。

@node FAQ 3 - Getting Messages
@subsection メッセージの取得

@menu
* [3.1]::  　私は今まさに Gnus をインストールして `M-x gnus' で
             起動したのですが、"nntp (news) open error" としか
             言ってくれません。どうしたら良いですか?

* [3.2]::  　私は Windows を使っていますが `~/.gnus.el' の意味が
             わかりません。

* [3.3]::  　私のニュースサーバーは認証を要求します。ディスクに
             ユーザ名とパスワードを保存しておくには、どうすれば
             良いですか?

* [3.4]::  　Gnus はうまく起動したようなのですが、グループを講読
             する方法が見つけられません。

* [3.5]::  　Gnus がすべてのグループを表示してくれません / 私は
             このサーバーへの投稿が許可されません。どうしてです
             か?

* [3.6]::  　私は複数のサーバーからニュースを取り込みたいのです
             が、それは可能ですか?

* [3.7]::  　それから、ローカル・スプール・ファイルからニュース
             を取り込むことは可能ですか?

* [3.8]::  　ニュースを読むのはうまくいきましたが、私は Gnus で
             メールも読めるようにしたいのです。どうすれば良いで
             すか?

* [3.9]::  　それから、IMAP でメールを読めるようにするには、どう
             すれば良いですか?

* [3.10]:: 　私たちは職場で MS Exchange サーバーの一つを使ってい
             るのですが、Gnus を使ってそこからメールを読むことは
             できますか?

* [3.11]:: 　POP3 でメールを取得するサーバーで、メールを消さない
             ように Gnus に指示することはできますか?
@end menu

@node [3.1]
@subsubheading 質問 3.1

私は今まさに Gnus をインストールして @kbd{M-x gnus} で起動したのですが、
"nntp (news) open error" としか言ってくれません。どうしたら良いですか?

@subsubheading 回答

どこからニュースを取得すべきかを Gnus に教えてあげなければなりません。や
り方については文献を読んで下さい。初めて起動するのであれば、次のようなも
のを @file{~/.gnus.el} ファイルに書き込んでみて下さい:

@lisp
(setq gnus-select-method '(nntp "news.yourprovider.net"))
(setq user-mail-address "you@@yourprovider.net")
(setq user-full-name "Your Name")
@end lisp

@node [3.2]
@subsubheading 質問 3.2

私は Windows を使っていますが @file{~/.gnus.el} の意味がわかりません。

@subsubheading 回答

@file{~/} とは、Gnus と Emacs が設定ファイルを探す場所であるホームディレ
クトリーのことです。でも、実はその意味を知らなくても構わないのです。
Emacs がわかっていれば十分ですから。
:-)  @kbd{C-x C-f ~/.gnus.el RET} とタイプすれば (そう、Windows でもスラッ
シュでいいのです)、Emacs は正しいファイルを開いてくれるでしょう (それが
新規ファイルであるために中身が空っぽであることは、おおいにあり得るでしょ
う)。しかし、ちょっと待って下さい。Emacs が選ぶディレクトリーは、きっと
あなたの希望通りにはならないので、正しいやり方でそれを行ないましょう。第
一に、例えば c:\myhome のような適当なディレクトリーを (ディレクトリー名
に空白を含めないで) 作って下さい。そして、このディレクトリーを環境変
数 HOME に設定しましょう。これを Win9x か Me で行なうには、
@file{autoexec.bat} ファイルに以下の行を追加して、再起動して下さい。

@example
SET HOME=C:\myhome
@end example

@noindent
NT, 2000 および XP では、システム・オプションを入力するため
に @kbd{Winkey + Pause/Break} を叩いて (もしそれが使えなかったら Control
Panel -> System を辿って) 下さい。そこで環境変数を設定できるでしょうから、
HOME という名前で値が C:\myhome のものを作って下さい。再起動は不要です。

では、Emacs に @kbd{C-x C-f ~/.gnus.el RET C-x C-s} を指示し
て、@file{~/.gnus.el} ファイルを作りましょう。

@node [3.3]
@subsubheading 質問 3.3

私のニュースサーバーは認証を要求します。ディスクにユーザ名とパスワードを
保存しておくには、どうすれば良いですか?

@subsubheading 回答

次のように、それぞれのサーバーに関する行を含んだ @file{~/.authinfo} ファ
イルを作って下さい。

@example
machine news.yourprovider.net login YourUserName password YourPassword
@end example

@noindent
OS が対応しているならば、そのファイルを他人が読めないようにしておきましょ
う。Unix ではシェル上で次のコマンドを実行して下さい。

@example
chmod 600 ~/.authinfo
@end example

@node [3.4]
@subsubheading 質問 3.4

Gnus はうまく起動したようなのですが、グループを講読する方法が見つけられ
ません。

@subsubheading 回答

そのグループの名前がわかっているのなら、グループバッファで @kbd{U
name.of.group RET} を使って下さい (タブ補完を使え、ルーク (訳注: オビ=ワ
ン・ケノービの声で))。あるいはグループバッファで @kbd{^} を使いましょう。
これはあなたをサーバーバッファへいざないます。その場合は、目的のグループ
があるサーバーの上にポイント (カーソル) を置いて @kbd{RET} を叩き、読み
たいグループにポイントを移動してから @kbd{u} でそのグループを講読しましょ
う。

@node [3.5]
@subsubheading 質問 3.5

Gnus がすべてのグループを表示してくれません / 私はこのサーバーへの投稿が
許可されません。どうしてですか?

@subsubheading 回答

プロバイダーのいくつかは匿名での接続を制限していて、認証してからでないと
完全なアクセスを許しません。Gnus に認証のための情報 (authinfo) を送出さ
せるには、@file{~/.authinfo} ファイルの該当するサーバーの行の最後に

@example
force yes
@end example

@noindent
を追加して下さい。

@node [3.6]
@subsubheading 質問 3.6

私は複数のサーバーからニュースを取り込みたいのですが、それは可能ですか?

@subsubheading 回答

もちろん。変数 @code{gnus-secondary-select-methods} に、もっと多くの記事
の供給元を設定することができます。以下のようなもの
を @file{~/.gnus.el} ファイルに追加して下さい:

@lisp
(add-to-list 'gnus-secondary-select-methods
             '(nntp "news.yourSecondProvider.net"))
(add-to-list 'gnus-secondary-select-methods
             '(nntp "news.yourThirdProvider.net"))
@end lisp

@node [3.7]
@subsubheading 質問 3.7

それから、ローカル・スプール・ファイルからニュースを取り込むことは可能で
すか?

@subsubheading 回答

問題ありません。それは @code{nnspool} というもう一つの選択方法で、こんな
ふうに設定して下さい:

@lisp
(add-to-list 'gnus-secondary-select-methods '(nnspool ""))
@end lisp

@noindent
あるいは @acronym{NNTP} を第一ニュースソースとして使う必要が無いのであれ
ば、こうして下さい:

@lisp
(setq gnus-select-method '(nnspool ""))
@end lisp

@noindent
Gnus は @file{/usr/spool/news} にあるスプール・ファイルを探します。何か
違うことをやりたいのならば、上記の行を次のようなものに変更して下さい:

@lisp
(add-to-list 'gnus-secondary-select-methods
             '(nnspool ""
                       (nnspool-directory "/usr/local/myspoolddir")))
@end lisp

@noindent
これは、スプールがあるディレクトリーを、このサーバーだけのために設定しま
す。さらに、記事を投稿するために使うプログラムなどを設定する必要があるか
もしれません。そういう場合にどうしたら良いかについては、Gnus のマニュア
ルを参照して下さい。

@node [3.8]
@subsubheading 質問 3.8

ニュースを読むのうまくいきましたが、私は Gnus でメールも読めるようにした
いのです。どうすれば良いですか?

@subsubheading 回答

それは少しばかり難しいです。使うことができるメールソースはいっぱいあるし、
メールを格納する方法はたくさんあるし、送信するための方法も様々なので。最
もありふれているのは、次の二つの事例のようなものでしょう:

@enumerate
@item
@acronym{POP3} サーバーからメールを読み、@acronym{SMTP} サーバーに直接メー
ルを送信します。

@item
fetchmail のようなプログラムでメールを取り込んで、Gnus が読むことになっ
ているディレクトリーに格納します。外に行くメールは Sendmail, Postfix ま
たは他の MTA によって送出されます。
@end enumerate

ときには、これらを併用する必要さえあります。

しかし最初に行なうことは、どの方法でメールを格納するか、Gnus の用語で言
うと、どのバックエンドを使うかを Gnus に指示することです。Gnus は多くの
異なるバックエンドをサポートしますが、最も一般的に使われているの
は @code{nnml} です。それは一通のメールを一つのファイルに格納し、そのた
め極めて高速です。でも、あなたが使っているファイルシステムがたくさんの小
さなファイルを扱う上で問題があるのならば、一つのグループのすべてのメール
を一つのファイルに収める方法を使う必要があるかもしれません。おそらくそう
いう場合の選択肢が @code{nnfolder} バックエンドです。

@noindent
@code{nnml} を使うには、以下を @file{~/.gnus.el} ファイルに加えて下さい:

@lisp
(add-to-list 'gnus-secondary-select-methods '(nnml ""))
@end lisp

@noindent
@code{nnfolder} を使いたいのならば、あなたの想像した通り、こうすれば良い
でしょう:

@lisp
(add-to-list 'gnus-secondary-select-methods '(nnfolder ""))
@end lisp

@noindent
次に、メールをどこから取得するかを Gnus に伝えなければなりません。それ
が @acronym{POP3} サーバーであるのなら、このように設定して下さい:

@lisp
(add-to-list 'mail-sources '(pop :server "pop.YourProvider.net"
                                 :user "yourUserName"
                                 :password "yourPassword"))
@end lisp

@noindent
もしそこにパスワードを書いておくのなら、他人が @file{~/.gnus.el} ファイ
ルを読めないようにしておいて下さい。メールをローカルマシンの伝統的なスプー
ルファイルから読みたい場合は、以下のように設定して下さい:

@lisp
(add-to-list 'mail-sources '(file :path "/path/to/spool/file"))
@end lisp

@noindent
もしそれが Postfix, Qmail または (そういうふうに設定されている)
fetchmail によって使われる、一通/一ファイルの Maildir であるのならば、こ
んなふうにしましょう:

@lisp
(add-to-list 'mail-sources '(maildir :path "/path/to/Maildir/"
                                     :subdirs ("cur" "new")))
@end lisp

@noindent
そして最後に、メールを一つのディレクトリーにある複数のファイルから読むよ
うにしたいのであれば (例えば procmail がすでに分割してあるという理由で)、
設定は以下のようになります:

@lisp
(add-to-list 'mail-sources
             '(directory :path "/path/to/procmail-dir/"
                         :suffix ".prcml"))
@end lisp

@noindent
ここで @code{:suffix} に指定した ".prcml" は、Gnus に拡張子が .prcml の
ファイルだけを使うことを指示するためのものです。

さあ、後はどうやってメールを送信するかを Gnus に教えるだけです。メールの
送信に sendmail を使いたければ (または、あなたのシステムの MTA が何であ
れ sendmail の役を演じるのならば)、何もしなくても良いのです。でも、も
し @acronym{SMTP} サーバーにメールを送りたいのだったら、以下のようなもの
が @file{~/.gnus.el} ファイルに書かれている必要があります:

@lisp
(setq send-mail-function 'smtpmail-send-it)
(setq message-send-mail-function 'smtpmail-send-it)
(setq smtpmail-default-smtp-server "smtp.yourProvider.net")
@end lisp

@node [3.9]
@subsubheading 質問 3.9

それから、@acronym{IMAP} でメールを読めるようにするには、どうすれば良い
ですか?

@subsubheading 回答

Gnus で @acronym{IMAP} を使うには二つの方法があります。最初の
は @acronym{IMAP} を @acronym{POP3} のように使うもので、
Gnus は @acronym{IMAP} サーバーからメールを取得してディスクに格納します。
これをやりたいのなら (本当にそんなことをしたい人はいないでしょうけれど)、
以下の設定を @file{~/.gnus.el} ファイルに加えて下さい:

@lisp
(add-to-list 'mail-sources '(imap :server "mail.mycorp.com"
                                  :user "username"
                                  :pass "password"
                                  :stream network
                                  :authentication login
                                  :mailbox "INBOX"
                                  :fetchflag "\\Seen"))
@end lisp

@noindent
@code{:stream} および/または @code{:authentication} の項はいじる必要があ
るかもしれません。使うことができる値については Gnus マニュア
ル (@pxref{Mail Source Specifiers, ,メールソース指示子, gnus-ja, The
Gnus Manual}) を参照して下さい。

@acronym{IMAP} をそれが意図された方法で使いたい場合は、違うやり方に従う
必要があります。そうするには選択方法に @code{nnimap} を加え、そこでサー
バーに関する情報を与えて下さい:

@lisp
(add-to-list 'gnus-secondary-select-methods
             '(nnimap "Give the baby a name"
                      (nnimap-address "imap.yourProvider.net")
                      (nnimap-port 143)
                      (nnimap-list-pattern "archive.*")))
@end lisp

@noindent
さらに、Gnus が正しいやり方を推測できない場合には、サーバーに認証しても
らう方法を指定しなければならないでしょう。詳しい情報はマニュア
ル (@pxref{IMAP, ,IMAP, gnus-ja, The Gnus Manual}) を参照して下さい。

@node [3.10]
@subsubheading 質問 3.10

私たちは職場で MS Exchange サーバーの一つを使っているのですが、Gnus を使っ
てそこからメールを読むことはできますか?

@subsubheading 回答

サーバーに @acronym{IMAP} という新しい運動靴を一足はかせてくれるように、
管理人にお願いして下さい。そして上記の説明に従って、必要なことを行なって
下さい。

@node [3.11]
@subsubheading 質問 3.11

POP3 でメールを取得するサーバーで、メールを消さないように Gnus に指示す
ることはできますか?

@subsubheading 回答

そもそも @acronym{POP3} はそういうふうに動作することが意図されていません。
もし可能性があるのならば、メッセージをサーバー上に残すために
は @acronym{IMAP} プロトコルを使うべきです。それでもなお、そういう機能を
必要とする状況があるかもしれませんが、悲しいかな、Gnus 自体はそうするた
めの既設の機能を持っていないのです。

しかしここは Gnus 村ですから、あなたの希望を達成する見込みが無いわけでは
ありません。最も簡単な方法は、メールのコピーを取り込んで、それらをディス
クに格納する外部プログラムを手に入れることです。そうすれば Gnus はそこか
ら読むことができます。例えば Unix システムでは fetchmail がそれです。MS
Windows では、優れたニュースとメールのサーバーである Hamster を使うこと
ができます。

別の解は、Gnus が @acronym{POP3} サーバーからメールを取得する手段を、メー
ルをサーバーに残すことができるもので置き換えることでしょう。XEmacs を使っ
ているのであれば mail-lib パッケージを手に入れて下さい。それは拡張され
た @file{pop3.el} を含んでいます。ファイルの中身を見て下さい。それを使う
ように Gnus に指示するやり方と、取得したメールを削除しない方法の説明があ
ります。GNU Emacs を使っている場合は、同じことを行なうことができ
る @file{epop3.el} を探して下さい (そのファイルの元の出どころを知ってい
る人は、私 (訳注: Simon Josefsson さんだと思います、たぶん) にメールを送っ
て下さい)。さらに、Gnus に外部プログラム (例えば fetchmail) を使ってメー
ルを取り寄せるようにさせることもできます。やり方は Gnus マニュア
ル (@pxref{Mail Source Specifiers, ,メールソース指示子, gnus-ja, The
Gnus Manual}) を参照して下さい。

@quotation
訳注: T-gnus に含まれている @file{pop3.el} は、XEmacs のやり方をさらに発
展させて、完全に Gnus とともに動作するようになっています (した)。
@end quotation

@node FAQ 4 - Reading messages
@subsection メッセージを読む

@menu
* [4.1]::  　グループに入ると、以前に読んだメッセージが全部なく
             なってしまっています。もう一度読むには、どうしたら
             良いですか?

* [4.2]::  　大事なメッセージを、すでに読んだことがあっても、グ
             ループに入ったときはいつでも見えるように Gnus に指
             示するには、どうすれば良いですか?

* [4.3]::  　メッセージのヘッダーを見るにはどうしたら良いですか?

* [4.4]::  　整形されていない生のメッセージを見るには、どうすれ
             ば良いですか?

* [4.5]::  　記事バッファの先頭に Gnus がディフォルトで表示する
             ヘッダーを変更するには、どうしたら良いですか?

* [4.6]::  　HTML メールを描画するのではなく、それがある場合には
             テキストのパートを Gnus に表示して欲しいです。どう
             すれば良いですか?

* [4.7]::  　HTML メールを w3 以外のブラウザーを使って描画させる
             ことはできますか?

* [4.8]::  　見苦しい体裁のメールをもっと読みやすくするための何
             かがありますか?

* [4.9]::  　特定の著者が送信したものや、題名に特定の語が含まれ
             ているメッセージを、自動的に無視する方法はあります
             か?  また、より興味深いものを何らかの方法で強調表示
             させることはできますか?

* [4.10]:: 　いくつかの (例えばメールの) グループで、スレッド表
             示をさせなくすることはできますか?  あるいは、いくつ
             かのグループに固有の変数を設定することができますか?

* [4.11]:: 　私が書いたメッセージとフォロー記事を、強調表示させ
             ることはできますか?

* [4.12]:: 　特にメールのグループで、Gnus がグループバッファに表
             示するメッセージの合計の数が非常に大きいのです。こ
             れはバグですか?

* [4.13]:: 　概略バッファと記事バッファの配置が気に入らないので
             すが、どうやったら変更できますか?  できるなら三面で
             表示させたいです。

* [4.14]:: 　概略バッファを見せるやり方が好きではありません。調
             整するには、どうすれば良いですか?

* [4.15]:: 　やってきたメールをいろいろなグループに振り分けるに
             は、どうしたら良いですか?
@end menu

@node [4.1]
@subsubheading 質問 4.1

グループに入ると、以前に読んだメッセージが全部なくなってしまっています。
もう一度読むには、どうしたら良いですか?

@subsubheading 回答

グループバッファにおいて、そのグループの上にポイントが置かれている状態
で @kbd{RET} を使うと、未読と可視記事の印 (ticked) が付いたメッセージだ
けが現れます。存在するすべてのメッセージが表示されるようにするには、代わ
りに @kbd{C-u RET} を使って下さい。もし最新の、例えば 300通だけが所望な
らば、@kbd{C-u 300 RET} を使いましょう。

スレッド表示を有効にしていると、未読のメッセージだけを表示するのはじれっ
たいかもしれません。スレッドがちぎれてしまうことを防止するのに十分な量の
古い記事を取り込むには、以下の設定を追加すれば良いでしょう:

@lisp
(setq gnus-fetch-old-headers 'some)
@end lisp

@noindent
@code{some} を @code{t} に替えると、すべての記事を表示するようになりま
す (警告: どちらの設定もグループに入ったときに取り込むデータ量を増加させ、
グループに入る処理を遅くしてしまいます)。

すでに Gnus 5.10 を使っているならば、最後の @var{n} 通のメッセージを取り
込むために、概略バッファで @kbd{/o N} 命令を使うことができます。この機能
は 5.8.8 にはありません。

すべての古いメッセージは要らないけれども、今まさに読んでいるメッセージの
親を辿りたいならば @kbd{^} 命令を使って下さい。今まさに読んでいるメッセー
ジが属しているスレッドのすべての記事を表示したい場合は、@samp{A T} 命令
があなたの望むものです。

@node [4.2]
@subsubheading 質問 4.2

大事なメッセージを、すでに読んだことがあっても、グループに入ったときはい
つでも見えるように Gnus に指示するには、どうすれば良いですか?

@subsubheading 回答

大事なメッセージには可視記事の印 (ticked) を付けることができます。それに
は、概略バッファでポイントがその記事を指しているときに @kbd{u} を叩いて
下さい。可視記事の印を消す命令は @kbd{d} (これは可視記事の印を消してから
未読の印を付けます) または @kbd{M c} (そのメッセージに付いているすべての
印を消します) です。

@node [4.3]
@subsubheading 質問 4.3

メッセージのヘッダーを見るにはどうしたら良いですか?

@subsubheading 回答

@kbd{t} 命令を使うとすべてのヘッダーを表示し、もう一度使うとそれらを隠し
ます。

@node [4.4]
@subsubheading 質問 4.4

整形されていない生のメッセージを見るには、どうすれば良いですか?

@subsubheading 回答

@kbd{C-u g} 命令を使うと生のメッセージを表示し、@kbd{g} で通常の表示に戻
ります。

@node [4.5]
@subsubheading 質問 4.5

記事バッファの先頭に Gnus がディフォルトで表示するヘッダーを変更するには、
どうしたら良いですか?

@subsubheading 回答

変数 @code{gnus-visible-headers} がどのヘッダーを表示するかを制御します。
その値は正規表現で、それに合致するヘッダー行が表示されます。したがって、
著者、題名、日付、そしてもし存在する場合は Followup-To と MUA / NUA を表
示したい場合には、@file{~/.gnus.el} ファイルで以下の設定を行なって下さい:

@lisp
(setq gnus-visible-headers
      '("^From" "^Subject" "^Date" "^Newsgroups" "^Followup-To"
        "^User-Agent" "^X-Newsreader" "^X-Mailer"))
@end lisp

@node [4.6]
@subsubheading 質問 4.6

HTML メールを描画するのではなく、テキストのパートがある場合には、そちら
の方を Gnus に表示して欲しいです。どうすれば良いですか?

@subsubheading 回答

@file{~/.gnus.el} ファイルで以下の設定を行なって下さい:

@lisp
(add-to-list 'mm-discouraged-alternatives "text/html")
(add-to-list 'mm-discouraged-alternatives "text/richtext")
@end lisp

@noindent
代替のテキストのパートが無い場合でさえも HTML のパートを描画して欲しくな
いのであれば、以下の設定を追加して下さい:

@lisp
(setq mm-automatic-display (remove "text/html" mm-automatic-display))
@end lisp

@node [4.7]
@subsubheading 質問 4.7

HTML メールを w3 以外のブラウザーを使って描画させることはできますか?

@subsubheading 回答

Gnus 5.10 またはより新しいものを使う場合だけですが、w3, w3m, links,
lynx および html2text の中から選ぶことができ、どれを使うかは変
数 @code{mm-text-html-renderer} で指定することができます。したがっ
て links で HTML メールを描画したいときは、こうして下さい:

@lisp
(setq mm-text-html-renderer 'links)
@end lisp

@node [4.8]
@subsubheading 質問 4.8

見苦しい体裁のメールをもっと読みやすくするための何かがありますか?

@subsubheading 回答

Gnus は入ってきたメールを「洗濯」するためにいくつかの関数を提供します。
それらはメニューの Article->Washing 項目を辿ることによって見つけることが
できるでしょう。最も興味深いものを挙げてみましょう:

@table @kbd
@item W w (Wrap long lines)
長い行を折り畳みます。

@item W r (Decode ROT13)
ROT13 をデコードします。

@item W Y f (Outlook Deuglify)
Outlook を見苦しくなくさせます。これは、マイクロソフトの製品を使っている
多くのユーザーが送ってくる間の抜けた引用付き返信 (訳注: 折り畳まれた長い
引用行の二行目以降に引用符が前置されないなど) を修繕します。

他の見苦しくなくさせる機能については @kbd{W Y C-h} を使うかメニューを眺
めて下さい。Outlook Deuglify は Gnus 5.10 以上で使うことができます。
@end table

@node [4.9]
@subsubheading 質問 4.9

特定の著者が送信したものや、題名に特定の語が含まれているメッセージを、自
動的に無視する方法はありますか?  また、より興味深いものを何らかの方法で
強調表示させることはできますか?

@subsubheading 回答

あなたに必要なのはスコア付けです。スコア付けと言うのは、それぞれのメッセー
ジに整数の値を割り付けるための規則を定義することです。値に基づいて、概略
バッファでメッセージが強調表示されたり (それが +2000 といった高い値だっ
たら)、自動的に既読になったり (その値が例えば -800 のような低い値だった
ら)、あるいは他のいくつかの作用が行なわれたりします。

メッセージにスコアの値を割り付ける規則を設定するための、基本的な三つのや
り方があります。

@enumerate
@item
最初の最も簡単なやり方は、今まさに読んでいる記事に基づいて、規則を設定す
ることです。いつもたわごとを書いてよこすやつからのメッセージを読んで、今
後はそいつからのメッセージを無視しようと決心したならば、@kbd{L} を叩いて
スコアを下げる規則を設定して下さい。

すると Gnus は、スコアを下げる基準をどれにすれば良いかを尋ねてくるでしょ
う。@kbd{?} を二回叩くと、すべての候補を見ることができますが、ここで選択
すべきなのは著者 (From ヘッダー) を意味する @kbd{a} です。

次に Gnus は、どの種類の合致を使うべきかを尋ねてくるので、厳密な合致のた
めの @kbd{e} か、文字の一部への合致を求める @kbd{s} を叩いてから、後です
べてを削除して下さい。そうしても、どんな電子メールアドレスであっても、そ
れを持つすべての著者のスコアを下げるために、その名前が使われます。

さらに、その規則をいつ適用するべきか、またどれくらいの時間続けるべきか
を Gnus に伝える必要があります。例えば @kbd{p} では、その規則を今すぐ適
用して、それを永久に持続させます。

スコアを下げるのではなくて上げたいのであれば、@kbd{L} の代わり
に @kbd{I} を使って下さい。

@item
規則を手で設定することもできます。そうするには概略バッファ
で @kbd{V f} 命令を使って下さい。するとスコアファイルの名前を尋ねられる
でしょう。一つのグループだけで有効なのは @file{name.of.group.SCORE} で、
すべてのグループに対して有効なのが @file{all.SCORE} です。厳密なシンタッ
クスについては Gnus のマニュアルを参照して下さい。それは一つの大きなリス
トで、その要素もまた多くのリストです。その後者の単位リストの第一要素はス
コアの対象であるヘッダーで、残りは、何に合致するか、いくらのスコアを割り
当てるか、規則を期限切れ消去するのはいつか、そしてどうやって合致させるか
を示すもう一つのリストです。私にとても興味を持ったならば、例えば以下のよ
うなものを @file{all.SCORE} ファイルに加えてみて下さい:

@lisp
(("references" ("hschmi22.userfqdn.rz-online.de" 500 nil s))
 ("message-id" ("hschmi22.userfqdn.rz-online.de" 999 nil s)))
@end lisp

@noindent
これは私が書いたメッセージのスコアに 999 を加えて、それに対する (たぶん
間接的な) 回答のメッセージのスコアに 500 を加えるでしょう。もちろん分別
のある人は誰も、こんなことはしないでしょうが。:-)

@item
三番目の選択肢は適応スコア付けです。これは、Gnus があなたを観察して、あ
なたが何に興味を持って何に幻滅するかを見つけ出し、それらを反映した規則を
設定してくれるものです。流通量の多いグループを読むときに、適応スコア付け
は大きな助けになるでしょう。適応スコア付けをやってみたいならば、
@file{~/.gnus.el} ファイルで以下の宣言を行なって下さい:

@lisp
(setq gnus-use-adaptive-scoring t)
@end lisp
@end enumerate

@node [4.10]
@subsubheading 質問 4.10

いくつかの (例えばメールの) グループで、スレッド表示をさせなくすることは
できますか?  あるいは、いくつかのグループに固有の変数を設定することがで
きますか?

@subsubheading 回答

グループバッファにいるときに、そのグループにポイントを移動してか
ら @kbd{G c} を叩いて下さい。すると、そのグループのためのオプションを設
定することができるバッファが開きます。そして、そのバッファのおしまいの方
で、そのグループでローカルに変数を設定するための項目を見つけることができ
るでしょう。スレッド表示をさせなくするには、変数名とし
て @code{gnus-show-threads} を、値として @code{nil} を入力して下さい。作
業を終えたら、そのバッファの最初の方にある [done] ボタンを叩きましょう。

@node [4.11]
@subsubheading 質問 4.11

私が書いたメッセージとフォロー記事を、強調表示させることはできますか?

@subsubheading 回答

「できますか?」なんて質問はやめて下さい。Gnus 村では答えはいつも yes な
のですから。:-) これは三段階の作業になります。まず、それらの投稿のための
フェース (概略行がどんなふうに見えるかの仕様) を作りましょう。続いて、そ
れらにいくばくかの特別なスコアを与えましょう。最後に、その新しいフェース
を使うように Gnus に指示しましょう。それをどう行なうかの詳しい説明
が @uref{http://my.gnus.org/node/view/224, my.gnus.org} にあります。

@node [4.12]
@subsubheading 質問 4.12

特にメールのグループで、Gnus がグループバッファに表示するメッセージの合
計の数が非常に大きいのです。これはバグですか?

@subsubheading 回答

いいえ、これは Gnus の設計上の問題で、これを直すには Gnus のバックエンド
の主要な部分を実装し直さなければなりません。Gnus は最大の記事番号から最
小の記事番号を減算したものが合計の記事数であると解釈します。これ
は Usenet のグループでは OK なのですが、メールのグループでたくさんのメッ
セージを消去したり移動すると、計算に失敗します。この病を治療するに
は @kbd{C-u RET} でそのグループに入り (この命令は Gnus にすべてのメッセー
ジを持って来させます)、@kbd{M P b} ですべてのメッセージに印を付けてから、
@kbd{B m name.of.group} でメッセージを全部、それらが元あったグループに移
動して下さい。この処理によってそれらは新しいメッセージ番号を持たせられて、
合計の記事数は再び正しくなるでしょう (またもやそれらを消したり別のグルー
プに移動するまでは)。

@node [4.13]
@subsubheading 質問 4.13

概略バッファと記事バッファの配置が気に入らないのですが、どうやったら変更
できますか?  できるなら三面で表示させたいです。

@subsubheading 回答

@code{gnus-add-configuration} 関数を呼ぶことによって、ウィンドウの配置を
制御することができます。シンタックスはいささか複雑ですが、マニュアルで非
常に良く説明されています (@pxref{Window Layout, ,ウィンドウの配置,
gnus-ja, The Gnus Manual})。いくつかのやさしい例を挙げてみましょう。

概略 25% 記事 75% というディフォルトの割合を、概略 35% 記事 65% の割合に
変更します (記事のための 1.0 は、残った空き地を取るという意味です):

@lisp
(gnus-add-configuration
 '(article (vertical 1.0 (summary .35 point) (article 1.0))))
@end lisp

@noindent
グループバッファが左、概略バッファが右上、記事バッファが右下という三面配
置です:

@lisp
(gnus-add-configuration
 '(article
   (horizontal 1.0
               (vertical 25
                         (group 1.0))
               (vertical 1.0
                         (summary 0.25 point)
                         (article 1.0)))))
(gnus-add-configuration
 '(summary
   (horizontal 1.0
               (vertical 25
                         (group 1.0))
               (vertical 1.0
                         (summary 1.0 point)))))
@end lisp

@node [4.14]
@subsubheading 質問 4.14

概略バッファを見せるやり方が好きではありません。調整するには、どうすれば
良いですか?

@subsubheading 回答

変数 @code{gnus-summary-line-format} をいじくり回す必要があります。その
値は著者、日付、題名などのようなものを表すシンボルの文字列です。使うこと
ができる仕様のリストは @pxref{Summary Buffer Lines, ,概略バッファの行,
gnus-ja, The Gnus Manual} と、しばしば忘れられてしまう @pxref{Formatting
Variables, ,書法仕様変数, gnus-ja, The Gnus Manual} およびその下位の各章
で見つかるはずです。そこでは書法仕様の概略を使うことができるようにしてく
れる、カーソルの位置指定やタブ位置の指定のようなものを見つけることができ
るでしょう。残念ながら 5.8.8 ではタブ位置を固定させる機能が壊れています。

5.10 から、Gnus は非常にみごとな新しい書法仕様変数を提供しています。例え
ば %B はスレッド木を描き、また %&user-date は、どう表示するかが記事が発
信されてからの経過時間に依存している日付を表示します。これらの両方を使っ
ている例です:

@lisp
(setq gnus-summary-line-format
      ":%U%R %B %s %-60=|%4L |%-20,20f |%&user-date; \n")
@end lisp

@noindent
結果はこんなふうになります:

@example
:O     Re: [Richard Stallman] rfc2047.el          |  13 |Lars Magne Ingebrigt |Sat 23:06
:O     Re: Revival of the ding-patches list       |  13 |Lars Magne Ingebrigt |Sat 23:12
:R  >  Re: Find correct list of articles for a gro|  25 |Lars Magne Ingebrigt |Sat 23:16
:O  \->  ...                                      |  21 |Kai Grossjohann      | 0:01
:R  >  Re: Cry for help: deuglify.el - moving stuf|  28 |Lars Magne Ingebrigt |Sat 23:34
:O  \->  ...                                      | 115 |Raymond Scholz       | 1:24
:O    \->  ...                                    |  19 |Lars Magne Ingebrigt |15:33
:O     Slow mailing list                          |  13 |Lars Magne Ingebrigt |Sat 23:49
:O     Re: `@@' mark not documented                |  13 |Lars Magne Ingebrigt |Sat 23:50
:R  >  Re: Gnus still doesn't count messages prope|  23 |Lars Magne Ingebrigt |Sat 23:57
:O  \->  ...                                      |  18 |Kai Grossjohann      | 0:35
:O    \->  ...                                    |  13 |Lars Magne Ingebrigt | 0:56
@end example

@node [4.15]
@subsubheading 質問 4.15

やってきたメールをいろいろなグループに振り分けるには、どうしたら良いです
か?

@subsubheading 回答

Gnus はメールを分割するための二つの手段、やさし
い @code{nnmail-split-methods} と、もっと強力な特級メール分割の機能を提
供します。私は最初のものだけについて述べますが、後者についてはマニュア
ル (@pxref{Fancy Mail Splitting, ,特級メール分割, gnus-ja, The Gnus
Manual}) を参照して下さい。

@code{nnmail-split-methods} の値はリストで、それぞれの要素は分割の規則を
表すリストです。それぞれの規則は「合致する記事が行くべきグループ」と「合
致すべき正規表現」の形式を持っていて、最初に合致した規則が勝ちます。最後
の規則は常に汎用の規則 (正規表現 @samp{.*}) でなければなりません。それは
他のどんな規則にも合致しない記事が行くべき場所を示します。もしまだフォル
ダーが無かったならば、それは記事がそこに着地するとすぐに作られるでしょう。
ディフォルトでは、メールは規則に合致するすべてのグループに送られます。そ
れを望まないならば (たぶん望まないでしょう)、以下のもの
を @file{~/.gnus.el} ファイルに入れて下さい:

@lisp
(setq nnmail-crosspost nil)
@end lisp

たった一つの例は千の言葉を並べるよりも勝ります。そこで、ここでは私
の @code{nnmail-split-methods} を紹介しましょう。私は、私が講読している
いくつかのメーリングリストから来るか、私を直接に目指して来たすべてのメー
ルを濾過器に通すので、私が特別のグループの複写を送ることと、ディフォルト
のグループは @samp{spam} であることに注意して下さい。これらの規則は、私
宛てに届いた spam のおよそ 80% を殺してくれます (電子メールアドレス
は spammers がそれらを使用するのを防ぐために変更されます)。

@lisp
(setq
 nnmail-split-methods
 '(("duplicates" "^Gnus-Warning:.*duplicate")
   ("XEmacs-NT" "^\\(To:\\|CC:\\).*localpart@@xemacs.bla.*")
   ("Gnus-Tut" "^\\(To:\\|CC:\\).*localpart@@socha.bla.*")
   ("tcsh" "^\\(To:\\|CC:\\).*localpart@@mx.gw.bla.*")
   ("BAfH" "^\\(To:\\|CC:\\).*localpart@@.*uni-muenchen.bla.*")
   ("Hamster-src" "^\\(CC:\\|To:\\).*hamster-sourcen@@yahoogroups.\\(de\\|com\\).*")
   ("Tagesschau" "^From: tagesschau <localpart@@www.tagesschau.bla>$")
   ("Replies" "^\\(CC:\\|To:\\).*localpart@@Frank-Schmitt.bla.*")
   ("EK" "^From:.*\\(localpart@@privateprovider.bla\\|localpart@@workplace.bla\\).*")
   ("Spam" "^Content-Type:.*\\(ks_c_5601-1987\\|EUC-KR\\|big5\\|iso-2022-jp\\).*")
   ("Spam" "^Subject:.*\\(This really work\\|XINGA\\|ADV:\\|XXX\\|adult\\|sex\\).*")
   ("Spam" "^Subject:.*\\(\=\?ks_c_5601-1987\?\\|\=\?euc-kr\?\\|\=\?big5\?\\).*")
   ("Spam" "^X-Mailer:\\(.*BulkMailer.*\\|.*MIME::Lite.*\\|\\)")
   ("Spam" "^X-Mailer:\\(.*CyberCreek Avalanche\\|.*http\:\/\/GetResponse\.com\\)")
   ("Spam" "^From:.*\\(verizon\.net\\|prontomail\.com\\|money\\|ConsumerDirect\\).*")
   ("Spam" "^Delivered-To: GMX delivery to spamtrap@@gmx.bla$")
   ("Spam" "^Received: from link2buy.com")
   ("Spam" "^CC: .*azzrael@@t-online.bla")
   ("Spam" "^X-Mailer-Version: 1.50 BETA")
   ("Uni" "^\\(CC:\\|To:\\).*localpart@@uni-koblenz.bla.*")
   ("Inbox" "^\\(CC:\\|To:\\).*\\(my\ name\\|address@@one.bla\\|adress@@two.bla\\)")
   ("Spam" "")))
@end lisp

@node FAQ 5 - Composing messages
@subsection メッセージの作成

@menu
* [5.1]::  　メールを送信したりニュース記事を投稿するために私が
             知っている必要がある基本的なコマンドは何ですか?

* [5.2]::  　メールを作成するとき、自動的に行を折り返すにはどう
             すれば良いですか?

* [5.3]::  　From, Organization, Reply-To などのヘッダーを自動生
             成したり、定型の署名 (signature) を自動的に挿入する
             には、どうしたら良いですか?

* [5.4]::  　投稿するグループによって異なる From ヘッダーや署名
             を自動挿入するには、どうすれば良いですか?

* [5.5]::  　スペルチェッカーはありますか?  できれば、書いたその
             場でチェックしてくれるものがあれば良いのですが。

* [5.6]::  　投稿するグループに基づいて、辞書 (スペルチェッカー
             の) を切り替えることはできますか?

* [5.7]::  　全員の電子メールアドレスを思い出さなくても済むよう
             にするための、アドレス帳のようなものはありますか?

* [5.8]::  　記事バッファの上の方で、ときどき小さな画像を目にし
             ます。あれは何ですか?  また、どうしたら私も投稿する
             ときに付けることができますか?

* [5.9]::  　ときどき私はニュースグループで、`f' の代わりにうっ
             かり `r' を打ってしまいます。ニュースグループなのに
             もかかわらずメールで返信しようとしたときに、Gnus に
             警告してもらうことはできますか?

* [5.10]:: 　Gnus が sender ヘッダーを生成しないようにするには、
             どうしたら良いですか?

* [5.11]:: 　送信したメールやニュースの控えをローカルに残してお
             きたいのですが、どうすれば良いですか?

* [5.12]:: 　私の Message-ID が不正だと言われてしまうのですが、
             それはなぜですか?  また、どうやって直したら良いです
             か?
@end menu

@node [5.1]
@subsubheading 質問 5.1

メールを送信したりニュース記事を投稿するために私が知っている必要がある基
本的なコマンドは何ですか?

@subsubheading 回答

新しいメールの作成を始めるには、グループバッファか概略バッファのどちらか
で @kbd{m} を叩いて下さい。ニュース記事を投稿する場合には、グループバッ
ファで @kbd{a} を叩いた後に手で Newsgroups ヘッダーに書き込むか、投稿す
るグループの概略バッファで @kbd{a} を叩いて下さい。

メールで返信する場合、元の記事を引用しないか後で手作業で引用するつもりな
らば @kbd{r} を、引用文を最初から取り込んでしまうのならば @kbd{R} を使っ
て下さい。ニュースグループでフォロー記事を投稿する場合であれば、
@kbd{f} か @kbd{F} (@kbd{r} と @kbd{R} の関係に似ています) を使いましょ
う。

新たにヘッダーを挿入するならば @samp{--text follows this line--} の上に、
本文はその下に書いて下さい。書き上がったメッセージを送信するコマンド
は @kbd{C-c C-c}、後で仕上げるために @samp{drafts} グループに保存するた
めのコマンドは @kbd{C-c C-d} です。後者は @kbd{D e} で再び編集することが
できます。

@node [5.2]
@subsubheading 質問 5.2

メールを作成するとき、自動的に行を折り返すにはどうすれば良いですか?

@subsubheading 回答

こんなものを @file{~/.gnus.el} ファイルに入れて下さい。

@lisp
(add-hook 'message-mode-hook
          (lambda ()
            (setq fill-column 72)
            (turn-on-auto-fill)))
@end lisp

@noindent
いつもの通りに @kbd{M-q} を使うことによって、段落を再整形することができ
ます。

@node [5.3]
@subsubheading 質問 5.3

From, Organization, Reply-To などのヘッダーを自動生成したり、定型の署
名 (signature) を自動的に挿入するには、どうしたら良いですか?

@subsubheading 回答

他のやり方もありますが、これのためには投稿様式 (posting styles) を使うべ
きです (理由は後で書きます)。この例ならば、そのシンタックスが明確にわか
るはずです:

@lisp
(setq gnus-posting-styles
      '((".*"
         (name "Frank Schmitt")
         (address "me@@there.bla")
         (organization "Hamme net, kren mer och nimmi")
         (signature-file "~/.signature")
         ("X-SampleHeader" "foobar")
         (eval (setq some-variable "Foo bar")))))
@end lisp

@noindent
@code{".*"} という設定はディフォルトのものです (@ref{[5.4]} 参照)。それ
以降のリストの第一要素に使える値は @code{signature},
@code{signature-file}, @code{organization}, @code{address}, @code{name}
または @code{body} です。属性名は文字列でも構いません。その場合、属性名
はヘッダー名として使われ、その値は記事のヘッダーに挿入されます。ただし値
が @code{nil} だったら、その名前のヘッダーは削除されます。

@code{(eval (foo bar))} の形式を使うことも可能で、その場合 @code{bar} を
引数に与えられて関数 @code{foo} が評価され、結果は捨てられます。

@node [5.4]
@subsubheading 質問 5.4

投稿するグループによって異なる From ヘッダーや署名を自動挿入するには、ど
うすれば良いですか?

@subsubheading 回答

これこそが投稿様式 (posting styles) の強みです。前の回
答 (@pxref{[5.3]}) では、すべてのグループのためのディフォルトを設定する
ために @code{".*"} を使いました。これに @code{"^gmane"} のような正規表現
を使うと、それ以降の設定を gmane ニュースグループの階層で投稿する記事だ
けに適用させることができます。代わりに @code{".*binaries"} を使うと、名
前などが @samp{binary} という文字列を含んでいるグループに投稿する記事だ
けに、それらの設定が適用されます。

正規表現の代わりに関数を指定することもでき、それが評価されて真を返すとき
だけ、それに対応する設定が有効になります。これの興味深い二つの候補は、
現在のグループがニュースグループだったら @code{t} を返
す @code{message-news-p} と、それと対になる @code{message-mail-p} です。

すべての合致する様式が適用されることに注意して下さい。以下を例にすれば、
@samp{gmane.mail.spam.spamassassin.general} に投稿すると @code{".*"} で
始まる設定が適用され、@code{message-news-p} 以下の設定も適用され、
@code{"^gmane"} で始まる設定、それ
に @code{"^gmane\\.mail\\.spam\\.spamassassin\\.general$"} 以下の設定の
すべてが適用されるということです。このため、一般的な設定は先頭に置き、特
定の条件を持つものは下の方に置くのが良いでしょう。

@lisp
(setq
 gnus-posting-styles
 '((".*"  ;;default
    (name "Frank Schmitt")
    (organization "Hamme net, kren mer och nimmi")
    (signature-file "~/.signature"))
   ((message-news-p)  ;;Usenet news?
    (address "mySpamTrap@@Frank-Schmitt.bla")
    ("Reply-To" "hereRealRepliesOnlyPlease@@Frank-Schmitt.bla"))
   ((message-mail-p)  ;;mail?
    (address "usedForMails@@Frank-Schmitt.bla"))
   ("^gmane" ;;this is mail, too in fact
    (address "usedForMails@@Frank-Schmitt.net")
    ("Reply-To" nil))
   ("^gmane.mail.spam.spamassassin.general$"
    (eval (setq mail-envelope-from "Azzrael@@rz-online.de"))
    (address "Azzrael@@rz-online.de"))))
@end lisp

@node [5.5]
@subsubheading 質問 5.5

スペルチェッカーはありますか?  できれば、書いたその場でチェックしてくれ
るものがあれば良いのですが。

@subsubheading 回答

Emacs で単語の綴りをチェックするために @file{ispell.el} を使うことができ
ます。したがって最初に行なうのは、外部プログラ
ム @uref{http://fmg-www.cs.ucla.edu/fmg-members/geoff/ispell.html,
ispell} または同 @uref{http://aspell.sourceforge.net/, aspell} を適当
な path にインストールしておくことです。次
に @uref{http://www.kdstevens.com/~stevens/ispell-page.html,
ispell.el} と、書いたその場でスペルチェックをしてくれ
る @uref{http://www-sop.inria.fr/mimosa/personnel/Manuel.Serrano/flyspell/flyspell.html,
flyspell.el} を用意して下さい。@file{ispell.el} は Emacs とともに配布さ
れているだけではなく、XEmacs パッケージシステムによっても手に入れること
ができます。@file{flyspell.el} も Emacs に同梱されているのとともに、パッ
ケージシステムを介して入手することができ
る XEmacs の @code{text-modes} パッケージの一部です。したがって、それら
を個別にインストールする必要は無いはずです。

@file{ispell.el} は外部プログラム @samp{ispell} を使うことを想定していま
す。@samp{aspell} を選ぶなら、Emacs の設定ファイルで以下の宣言を行なって
下さい (訳注: 近い将来に @file{ispell.el} はそれらを自動判別するようにな
ります):

@lisp
(setq ispell-program-name "aspell")
@end lisp

送出するメッセージがスペルチェックされるようにしたいなら以下の行を

@lisp
(add-hook 'message-send-hook 'ispell-message)
@end lisp

単語を書いたその場でスペルチェックすることを好むなら次の行を

@lisp
(add-hook 'message-mode-hook (lambda () (flyspell-mode 1)))
@end lisp

@noindent
@file{~/.gnus.el} ファイルに追加して下さい。

@node [5.6]
@subsubheading 質問 5.6

投稿するグループに基づいて、辞書 (スペルチェッカーの) を切り替えることは
できますか?

@subsubheading 回答

はい、できます。こんなものを @file{~/.gnus.el} ファイルに入れて下さい:

@lisp
(add-hook 'gnus-select-group-hook
          (lambda ()
            (cond
             ((string-match
               "^de\\." (gnus-group-real-name gnus-newsgroup-name))
              (ispell-change-dictionary "deutsch8"))
             (t
              (ispell-change-dictionary "english")))))
@end lisp

@noindent
@code{"^de\\."} と @code{"deutsch8"} は、必要に応じて変更して下さい。

@node [5.7]
@subsubheading 質問 5.7

全員の電子メールアドレスを思い出さなくても済むようにするための、アドレス
帳のようなものはありますか?

@subsubheading 回答

そのための非常に基本的な解は「メール別名」(mail aliases) です。単純な別
名のシンタックスを使って、@file{~/.mailrc} ファイルにメールアドレスを登
録しておくことができます。

@example
alias al	"Al <al@@english-heritage.bla>"
@end example

@noindent
そうしておいて、メッセージバッファの To: または Cc: 行で、別名に続いてス
ペースか句読点をタイプすることによって、Gnus に完全なアドレスを挿入して
もらうことができます。詳細は Message マニュアル (@pxref{Mail Aliases,
,メール別名, message-ja, The Message Manual}) を参照して下さい。

でも、あなたが本当に使いたいのは BBDB (the Insidious Big Brother
Database) でしょう。XEmacs のパッケージシステムを使うか、
@uref{http://bbdb.sourceforge.net/, bbdb のホームページ} から入手して下
さい。そして Gnus で BBDB を有効にするために、以下のもの
を @file{~/.gnus.el} ファイルに書き込んで下さい:

@lisp
(require 'bbdb)
(bbdb-initialize 'gnus 'message)
@end lisp

@noindent
さて、いくつかの一般的な BBDB の設定が必要かもしれません。それら
は @file{~/.emacs} ファイルに置きましょう。例です:

@lisp
(require 'bbdb)
;; 北アメリカに住んでいるのでなければ、以下によって電話番号の
;; チェックをやめさせるべきです。
(setq bbdb-north-american-phone-numbers-p nil)
;; あなたの電子メールアドレスを BBDB に教えましょう。
(setq bbdb-user-mail-names
      (regexp-opt '("Your.Email@@here.bla"
                    "Your.other@@mail.there.bla")))
;; メールアドレスを補完するときに、候補をエンドレスで出します。
;; cycling while completing email addresses
(setq bbdb-complete-name-allow-cycling t)
;; BBDB のバッファをポップアップさせません。
(setq bbdb-use-pop-up nil)
@end lisp

@noindent
これで BBDB を使う準備ができたはずです。@kbd{M-x bbdb RET RET} で、すべ
ての登録した項目を表示する BBDB のバッファを開いて下さい。新たに登録する
には @kbd{c}、検索には @kbd{b}、そして登録してある項目に新しいフィールド
を加えるには @kbd{C-o} を使いましょう。送信者を BBDB に登録するには、概
略バッファのその記事の場所で単に @kbd{:} を叩くだけで、あなたの仕事は終
りです。一方、新規にメールを作成しているときに @kbd{TAB} を叩くことによっ
て、順繰りに現れる候補の中から受取人を選ぶことができます。

@node [5.8]
@subsubheading 質問 5.8

記事バッファの上の方で、ときどき小さな画像を目にします。あれは何ですか?
また、どうしたら私も投稿するときに付けることができますか?

@subsubheading 回答

あの画像は X-Face というものです。ヘッダー行で 48×48 画素の白黒画像がエ
ンコードされています。それを送信する記事に含めたいなら、何かの画像
を X-Face に変換する必要があります。そうするには、何らかの画像を加工する
ためのプログラム (例えば Gimp) に点火して、記事に含めたい画像のファイル
を開き、必要な部分を切り抜いて、色の深度を 1-bit まで減らし、48×48 の大
きさに縮小または拡大して、bitmap としてファイルに保存して下さい。次
に @samp{compface} パッケージ
を @uref{ftp://ftp.cs.indiana.edu:/pub/faces/, このサイト} から入手して、
以下を実行することによって実際の X-Face を作りましょう:

@example
cat file.xbm | xbm2ikon | compface > file.face
cat file.face | sed 's/\\/\\\\/g;s/\"/\\\"/g;' > file.face.quoted
@end example

@noindent
@samp{compface} を使うことができなくても、オンラインの X-Face 変換器
が @uref{http://www.dairiki.org/xface/} にあります。MS Windows を使って
いるのならば、@uref{http://www.xs4all.nl/~walterln/winface/} か
ら @samp{WinFace} プログラムを取って来て使うこともできます。後は、送信す
る記事に X-Face を含めてくれるように Gnus に指示するだけです。それに
は @file{~/.gnus.el} ファイルに以下のようなものを入れて下さい:

@lisp
(setq message-default-headers
      (with-temp-buffer
        (insert "X-Face: ")
        (insert-file-contents "~/.xemacs/xface")
        (buffer-string)))
@end lisp

@node [5.9]
@subsubheading 質問 5.9

ときどき私はニュースグループで、@kbd{f} の代わりにうっかり @kbd{r} を打っ
てしまいます。ニュースグループなのにもかかわらずメールで返信しようとした
ときに、Gnus に警告してもらうことはできますか?

@subsubheading 回答

もう Gnus 5.10 を使っているのであれば、これを @file{~/.gnus.el} ファイル
に入れて下さい:

@lisp
(setq gnus-confirm-mail-reply-to-news t)
@end lisp

@noindent
まだ 5.8.8 や 5.9 を使っているのなら、代わりにこれをどうぞ:

@lisp
(eval-after-load "gnus-msg"
  '(unless (boundp 'gnus-confirm-mail-reply-to-news)
     (defadvice gnus-summary-reply (around reply-in-news activate)
       "Request confirmation when replying to news."
       (interactive)
       (when (or (not (gnus-news-group-p gnus-newsgroup-name))
                 (y-or-n-p "Really reply by mail to article author? "))
         ad-do-it))))
@end lisp

@node [5.10]
@subsubheading 質問 5.10

Gnus が sender ヘッダーを生成しないようにするには、どうしたら良いですか?

@subsubheading 回答

Gnus 5.10 はディフォルトで sender ヘッダーを作らないのですけれどね。まだ
古い Gnus を使っているのなら、@file{~/.gnus.el} ファイルでこれを試して下
さい:

@lisp
(add-to-list 'message-syntax-checks '(sender . disabled))
@end lisp

@node [5.11]
@subsubheading 質問 5.11

送信したメールやニュースの控えをローカルに残しておきたいのですが、どうす
れば良いですか?

@subsubheading 回答

それを行なうためには変数 @code{gnus-message-archive-group} を設定しなけ
ればなりません。それには、控えを保存しておくグループの名前を与える文字列
を設定することができます。あるいは以下の例のように、評価されるとグループ
名を返す関数 (訳注: と言うよりは Lisp の式) を設定することもできます。

@lisp
(setq gnus-message-archive-group
      '((if (message-news-p)
            "nnml:Send-News"
          "nnml:Send-Mail")))
@end lisp

@node [5.12]
@subsubheading 質問 5.12

私の Message-ID が不正だと言われてしまうのですが、それはなぜですか?  ま
た、どうやって直したら良いですか?

@subsubheading 回答

Message-ID は、送信したメッセージが、それがそれであることを確認するため
のものです。それが、あるメッセージにとって固有であるようにするために、
Gnus は @samp{@@} の後に置くマシン名を知る必要があります。Gnus が走って
いるマシンの名前が適切ではないならば (ほとんどの個人のマシンが該当するで
しょう)、Gnus が使う名前を以下のように @file{~/.gnus.el} ファイルで設定
して下さい:

@lisp
(setq message-user-fqdn "yourmachine.yourdomain.tld")
@end lisp

@noindent
Gnus 5.9 かそれ以前のものを使っている場合は、代わりにこれを使って下さ
い (新しい版でも動作します):

@lisp
(let ((fqdn "yourmachine.yourdomain.tld")) ;; <-- 変更してね!
  (if (boundp 'message-user-fqdn)
      (setq message-user-fqdn fqdn)
    (gnus-message 1 "Redefining `message-make-fqdn'.")
    (defun message-make-fqdn ()
      "Return user's fully qualified domain name."
      fqdn)))
@end lisp

@noindent
@code{"yourmachine.yourdomain.tld"} に何を入れるかを決めることができない
ならば、いくつかの選択肢があります。あなた
が @samp{yourUserName.userfqdn.provider.net} のようなものを使っても良い
かどうかをプロバイダーに尋ねてみても良いし、個人でドメイ
ン @samp{yourdomain.tld} を保有している場合
は @samp{somethingUnique.yourdomain.tld} のようなものを使うことができま
す。あるいは、ユーザーに無料で FQDN を提供してくれるサービス、例え
ば @uref{http://www.stura.tu-freiberg.de/~dlx/addfqdn.html} に登録するの
も良いでしょう (でもこのウェブサイトはドイツにあります。同じサービスを提
供している英語圏のものを知っているのならば、私に手紙を書いて下さい)。

最後に、Gnus にニュース記事では Message-ID をまったく作らせない (そして
その仕事はサーバーに任せる) ことができます。以下の設定を使って下さい:

@lisp
(setq message-required-news-headers
      (remove' Message-ID message-required-news-headers))
@end lisp

@noindent
さらに次の設定によって、メールでも Gnus に Message-ID を作らせないことは
可能です:

@lisp
(setq message-required-mail-headers
      (remove' Message-ID message-required-mail-headers))
@end lisp

@noindent
しかしながら、メールサーバーのあるものは適切な Message-ID を作ってくれな
いので、自分でメールを送信して Message-ID を眺めてみることによって、あな
たのメールサーバーが正しく振る舞うかどうかをテストして下さい。

@node FAQ 6 - Old messages
@subsection 古いメッセージ

@menu
* [6.1]:: 　Gnus を使っていなかったときの古いメールを、Gnus に編
            入させるにはどうしたら良いですか?

* [6.2]:: 　興味を持った記事を保存するにはどうすれば良いですか?

* [6.3]:: 　指定したメッセージを探すにはどうしたら良いですか?

* [6.4]:: 　要らなくなった古いメールを削除するにはどうすれば良い
            ですか?

* [6.5]:: 　読み終わったすべてのメッセージを期限切れ消去したいの
            ですが (少なくともいくつかのグループで)、どうしたら
            良いですか?

* [6.6]:: 　期限が来たメールを削除するのではなくて、他のグループ
            に移動させたいのですが。
@end menu

@node [6.1]
@subsubheading 質問 6.1

Gnus を使っていなかったときの古いメールを、Gnus に編入させるにはどうした
ら良いですか?

@subsubheading 回答

最も楽な方法は、古いメールプログラムにメッセージを @samp{mbox} 形式にま
とめてもらうことです。ほとんどの Unix のメイラーはそれをすることができ、
あなたが MS Windows の世界の出身であって
も @uref{http://mbx2mbox.sourceforge.net/} で、そのための道具を見つける
ことができるかもしれません。

では、この @samp{mbox} ファイルを Gnus に編入させましょう。それにはグルー
プバッファで @kbd{G f /path/file.mbox RET} を実行して、@samp{mbox} ファ
イルを扱うための @code{nndoc} グループを作って下さい。そうすれば、あなた
のメールに読み出し専用でアクセスできるようになります。そのメッセージを通
常の Gnus のメールグループの階層に編入させたいならば、たった今作っ
た @code{nndoc} グループに @kbd{C-u RET} 命令で入って (つまりすべてのメッ
セージが読めるようにしておいて)、すべてのメッセージに @kbd{M P b} で印を
付けてから、それらをお望みのグループに @kbd{B c name.of.group RET} でコ
ピーするか、または @code{nnmail-split-methods} を使ってそれらを分割 (再
スプール) するために @kbd{B r} を使って下さい。

@node [6.2]
@subsubheading 質問 6.2

興味を持った記事を保存するにはどうすれば良いですか?

@subsubheading 回答

例えば @samp{gnu.emacs.gnus} で興味深い記事に出くわして、それを保存しよ
うと思ったときには、いくつかの解があります。第一の最もやさしい方法は、
@kbd{O f} 命令を使ってそれをファイルに保存することです。でもそれは、
Gnus から保存されたメッセージをより直接にアクセスする手段としては、とて
も便利だとは言えないのではないでしょうか?  それに同意してくれるのならば、
Frank Haun <pille3003@@fhaun.de> が書いてくれたこのコードの切れ端
を @file{~/.gnus.el} ファイルに入れて下さい:

@lisp
(defun my-archive-article (&optional n)
  "一個以上の記事を、対応する `nnml:' グループにコピーします。
例えば `gnus.ding' の記事は `nnml:1.gnus.ding' グループに行き、
`nnml:List-gnus.ding' の記事は `nnml:1.List-gnus-ding' に行きます。

一個以上の記事を保存するには、概略バッファでプロセス/接頭引数の
習慣を使って下さい。"
  (interactive "P")
  (let ((archive-name
         (format
          "nnml:1.%s"
          (mm-replace-in-string gnus-newsgroup-name "^.*:" ""))))
    (gnus-summary-copy-article n archive-name)))
@end lisp

訳注: @xref{Process/Prefix, ,プロセス/接頭引数, gnus-ja, The Gnus
Manual}.

@noindent
これにより、概略バッファで @kbd{M-x my-archive-article} を実行することに
よって、指定した記事を @code{nnml} グループに保存することができます。

もちろん、以下の設定によってキャッシュを常に有効にすることもできます:

@lisp
(setq gnus-use-cache t)
@end lisp

@noindent
これによって、維持したい記事には可視 (ticked) か保留 (dormant) の印を付
けるだけで済むようになります。また、既読 (read) の印を付けることによって、
それらの記事はキャッシュから削除されます。

@node [6.3]
@subsubheading 質問 6.3

指定したメッセージを探すにはどうしたら良いですか?

@subsubheading 回答

これにもいくつかの方法があります。Usenet グループに投稿されたものについ
ては、おそらく @uref{http://groups.google.com, groups.google.com} に尋ね
るのが最も楽な解決方法です。そこで見つかったならば、Google に生の記事を
表示してもらって Message-ID を探し、概略バッファで @kbd{M-^
the@@message.id RET} を実行して下さい。さらに Gnus 5.10 以降で
は @samp{groups.google.com} へのインターフェースがあるので、グループバッ
ファで @kbd{G W} を使うこともできます。

メールとニュースの両方のグループで動作するもう一つの方法は、探しているメッ
セージが存在するグループに入って、Emacs の標準の探索コマンドであ
る @kbd{C-s} を使うことです。それは、壊れたスレッドにある記事を探すため
にも十分に賢いものです。本文の中で探したいのならば、代わり
に @kbd{M-s} を試して下さい。さらに付け加えると、これも役に立
つ @code{gnus-summary-limit-to}-* コマンド群があります。

もちろんローカルに保存されているメールを @samp{grep} で探すこともできま
すが、大きな書庫が相手だと遅いし、見つかったメールを Gnus で表示するわけ
ではないので、不便でもあります。そこで @code{nnir} の出番がやってきまし
た。@code{nnir} は @samp{swish-e}, @samp{swish++} および他の検索エンジン
へのフロントエンドです。それらの検索エンジンの一つを使ってメールに索引を
付けておけば、@code{nnir} の助けを借りることによって、索引が付けられたメー
ルを探して、検索の基準に合致するすべてのメールを含む一時的なグループを作
ることができます。これがクールに聞こえるなら、
@uref{ftp://ls6-ftp.cs.uni-dortmund.de/pub/src/emacs/} また
は @uref{ftp://ftp.is.informatik.uni-duisburg.de/pub/src/emacs/} か
ら @file{nnir.el} を持って来ましょう。使い方の説明は、そのファイルの始め
の方にあります。

@node [6.4]
@subsubheading 質問 6.4

要らなくなった古いメールを削除するにはどうすれば良いですか?

@subsubheading 回答

もはや要らなくなったメールにポイントを置いて @kbd{#} で印を付けてから、
それらを @kbd{B DEL} で永久に消してしまうことは、もちろんできます。さら
に、それらを実際に消してしまう代わりに @kbd{B m nnml:trash-bin} を使って
ジャンク・グループ (それは時々消さなければなりません) に送ることもできる
のですが、両方とも Gnus が意図するやり方ではありません。

Gnus では、ニュースサーバーでニュース記事が期限切れ消去されるように、メー
ルも消します。そうするためには、概略バッファのそのメールの上
で @kbd{E} を叩くことによって、そのメールが期限切れ消去可能であること
を (「このメールはもう要らないよ」と) Gnus に伝えれば良いのです。すると、
そのグループを抜け出たときに、Gnus は以前に印が付けられたすべてのメッセー
ジを検査して、十分に古くなった (ディフォルトでは一週間より古くなった) メー
ルを消去します。

@node [6.5]
@subsubheading 質問 6.5

読み終わったすべてのメッセージを期限切れ消去したいのですが (少なくともい
くつかのグループで)、どうしたら良いですか?

@subsubheading 回答

読み終わったすべてのメッセージが期限切れ消去されるようにしたいなら (例え
ばオンラインの書庫が別に存在しているメーリングリストで)、
@code{auto-expire} と @code{total-expire} という二つの選択肢があります。
@code{auto-expire} というのは、印が付いていないけれども読むために選択さ
れたことがあるすべての記事に期限切れ消去可能の印が付けられることで、メッ
セージを読むたびに Gnus が @kbd{E} を叩いてくれるようなものです。
@code{total-expire} は少し異なるやり方に従っていて、既読の印が付けられた
すべての記事が期限切れ消去可能になります。

@code{auto-expire} を可能にするには、そのグループのグループパラメータ
に @code{auto-expire} を含めて下さい (グループバッファでグループパラメー
タを変更するグループの上にポイントを置いて @kbd{G c} を叩きます)。
@code{total-expire} の方は、グループパラメータに @code{total-expire} を
加えて下さい。

どちらの手段を選ぶかは、単に好みの問題です。@code{auto-expire} は速いの
ですが、適応スコア付けと共存できないので、この機能を使いたい場合
は @code{total-expire} を使わなければなりません。

@code{total-expire} か @code{auto-expire} が設定されているグループで、あ
るメッセージを期限切れ消去の対象から外したい場合には、@kbd{u} で可
視 (ticked) の印を付けるか @kbd{?} で保留 (dormant) の印を付けて下さい。
@code{auto-expire} を使っている場合は、さらに @kbd{d} で既読の印を付ける
ことができます。

@node [6.6]
@subsubheading 質問 6.6

期限が来たメールを削除するのではなくて、他のグループに移動させたいのです
が。

@subsubheading 回答

@file{~/.gnus.el} ファイルに、このようなものを書き込んで下さい:

@lisp
(setq nnmail-expiry-target "nnml:expired")
@end lisp

@noindent
(@code{nnmail-expiry-target} にグループによって異なる値を設定したい場合
には、質問「いくつかの (例えばメールの) グループで、スレッド表示をさせな
くすることはできますか?  あるいは、いくつかのグループに固有の変数を設定
することができますか?」(@pxref{[4.10]}) を参照して下さい。

@node FAQ 7 - Gnus in a dial-up environment
@subsection Gnus in a dial-up environment

@menu
* [7.1]::    I don't have a permanent connection to the net, how can I
             minimize the time I've got to be connected?
* [7.2]::    So what was this thing about the Agent?
* [7.3]::    I want to store article bodies on disk, too. How to do it?
* [7.4]::    How to tell Gnus not to try to send mails / postings while
             I'm offline?
@end menu

@node [7.1]
@subsubheading Question 7.1

I don't have a permanent connection to the net, how can
I minimize the time I've got to be connected?

@subsubheading Answer

You've got basically two options: Either you use the
Gnus Agent (see below) for this, or you can install
programs which fetch your news and mail to your local
disk and Gnus reads the stuff from your local
machine.

If you want to follow the second approach, you need a
program which fetches news and offers them to Gnus, a
program which does the same for mail and a program which
receives the mail you write from Gnus and sends them
when you're online.

Let's talk about Unix systems first: For the news part,
the easiest solution is a small nntp server like 
@uref{http://www.leafnode.org/, Leafnode} or
@uref{http://infa.abo.fi/~patrik/sn/, sn},
of course you can also install a full featured news
server like 
@uref{http://www.isc.org/products/INN/, inn}. 
Then you want to fetch your Mail, popular choices
are @uref{http://www.catb.org/~esr/fetchmail/, fetchmail}
and @uref{http://www.qcc.ca/~charlesc/software/getmail-3.0/, getmail}.
You should tell those to write the mail to your disk and
Gnus to read it from there. Last but not least the mail
sending part: This can be done with every MTA like
@uref{http://www.sendmail.org/, sendmail},
@uref{http://www.qmail.org/, postfix},
@uref{http://www.exim.org/, exim} or
@uref{http://www.qmail.org/, qmail}.

On windows boxes I'd vote for 
@uref{http://www.tglsoft.de/, Hamster}, 
it's a small freeware, open-source program which fetches
your mail and news from remote servers and offers them
to Gnus (or any other mail and/or news reader) via nntp
respectively POP3 or IMAP. It also includes a smtp
server for receiving mails from Gnus.

@node [7.2]
@subsubheading Question 7.2

So what was this thing about the Agent?

@subsubheading Answer

The Gnus agent is part of Gnus, it allows you to fetch
mail and news and store them on disk for reading them
later when you're offline. It kind of mimics offline
newsreaders like e.g. Forte Agent. If you want to use
the Agent place the following in ~/.gnus.el if you are
still using 5.8.8 or 5.9 (it's the default since 5.10):

@lisp
(setq gnus-agent t)
@end lisp

@noindent
Now you've got to select the servers whose groups can be
stored locally.  To do this, open the server buffer
(that is press @samp{^} while in the
group buffer).  Now select a server by moving point to
the line naming that server.  Finally, agentize the
server by typing @samp{J a}.  If you
make a mistake, or change your mind, you can undo this
action by typing @samp{J r}.  When
you're done, type 'q' to return to the group buffer.
Now the next time you enter a group on a agentized
server, the headers will be stored on disk and read from
there the next time you enter the group.

@node [7.3]
@subsubheading Question 7.3

I want to store article bodies on disk, too. How to do it?

@subsubheading Answer

You can tell the agent to automatically fetch the bodies
of articles which fulfill certain predicates, this is
done in a special buffer which can be reached by
saying @samp{J c} in group
buffer. Please refer to the documentation for
information which predicates are possible and how
exactly to do it.

Further on you can tell the agent manually which
articles to store on disk. There are two ways to do
this: Number one: In the summary buffer, process mark a
set of articles that shall be stored in the agent by
saying @samp{#} with point over the
article and then type @samp{J s}. The
other possibility is to set, again in the summary
buffer, downloadable (%) marks for the articles you
want by typing @samp{@@} with point over
the article and then typing @samp{J u}.
What's the difference? Well, process marks are erased as
soon as you exit the summary buffer while downloadable
marks are permanent.  You can actually set downloadable
marks in several groups then use fetch session ('J s' in
the GROUP buffer) to fetch all of those articles.  The
only downside is that fetch session also fetches all of
the headers for every selected group on an agentized
server.  Depending on the volume of headers, the initial
fetch session could take hours.

@node [7.4]
@subsubheading Question 7.4

How to tell Gnus not to try to send mails / postings
while I'm offline?

@subsubheading Answer

All you've got to do is to tell Gnus when you are online
(plugged) and when you are offline (unplugged), the rest
works automatically. You can toggle plugged/unplugged
state by saying @samp{J j} in group
buffer. To start Gnus unplugged say @samp{M-x
gnus-unplugged} instead of
@samp{M-x gnus}. Note that for this to
work, the agent must be active.

@node FAQ 8 - Getting help
@subsection Getting help

@menu
* [8.1]::    How to find information and help inside Emacs?
* [8.2]::    I can't find anything in the Gnus manual about X (e.g.
             attachments, PGP, MIME...), is it not documented?
* [8.3]::    Which websites should I know?
* [8.4]::    Which mailing lists and newsgroups are there?
* [8.5]::    Where to report bugs?
* [8.6]::    I need real-time help, where to find it?
@end menu

@node [8.1]
@subsubheading Question 8.1

How to find information and help inside Emacs?

@subsubheading Answer

The first stop should be the Gnus manual (Say
@samp{C-h i d m Gnus RET} to start the
Gnus manual, then walk through the menus or do a
full-text search with @samp{s}). Then
there are the general Emacs help commands starting with
C-h, type @samp{C-h ? ?} to get a list
of all available help commands and their meaning. Finally
@samp{M-x apropos-command} lets you
search through all available functions and @samp{M-x
apropos} searches the bound variables.

@node [8.2]
@subsubheading Question 8.2

I can't find anything in the Gnus manual about X
(e.g. attachments, PGP, MIME...), is it not documented?

@subsubheading Answer

There's not only the Gnus manual but also the manuals
for message, emacs-mime, sieve and pgg. Those packages
are distributed with Gnus and used by Gnus but aren't
really part of core Gnus, so they are documented in
different info files, you should have a look in those
manuals, too.

@node [8.3]
@subsubheading Question 8.3

Which websites should I know?

@subsubheading Answer

The two most important ones are the
@uref{http://www.gnus.org, official Gnus website}.
and it's sister site 
@uref{http://my.gnus.org, my.gnus.org (MGO)},
hosting an archive of lisp snippets, howtos, a (not
really finished) tutorial and this FAQ.

Tell me about other sites which are interesting.

@node [8.4]
@subsubheading Question 8.4

Which mailing lists and newsgroups are there?

@subsubheading Answer

There's the newsgroup gnu.emacs.gnus (pull it from
e.g. news.gnus.org) which deals with general questions and the
ding mailing list (ding@@gnus.org) dealing with development of
Gnus. You can read the ding list via NNTP, too under the name
gmane.emacs.gnus.general from news.gmane.org.

If you want to stay in the big8,
news.software.newssreaders is also read by some Gnus
users (but chances for qualified help are much better in
the above groups) and if you speak German, there's
de.comm.software.gnus.

@node [8.5]
@subsubheading Question 8.5

Where to report bugs?

@subsubheading Answer

Say @samp{M-x gnus-bug}, this will start
a message to the 
@email{bugs@@gnus.org, gnus bug mailing list}
including information about your environment which make
it easier to help you.

@node [8.6]
@subsubheading Question 8.6

I need real-time help, where to find it?

@subsubheading Answer

Point your IRC client to irc.my.gnus.org channel
#mygnus. Don't be afraid if people there speak German,
they are willing and capable of switching to
English when people from outside Germany enter.

@node FAQ 9 - Tuning Gnus
@subsection Tuning Gnus

@menu
* [9.1]::    Starting Gnus is really slow, how to speed it up?
* [9.2]::    How to speed up the process of entering a group?
* [9.3]::    Sending mail becomes slower and slower, what's up?
@end menu

@node [9.1]
@subsubheading Question 9.1

Starting Gnus is really slow, how to speed it up?

@subsubheading Answer

The reason for this could be the way Gnus reads it's
active file, see the node "The Active File" in the Gnus
manual for things you might try to speed the process up.
An other idea would be to byte compile your ~/.gnus.el (say
@samp{M-x byte-compile-file RET ~/.gnus.el
RET} to do it). Finally, if you have require
statements in your .gnus, you could replace them with
eval-after-load, which loads the stuff not at startup
time, but when it's needed. Say you've got this in your
~/.gnus.el:

@lisp
(require 'message)
(add-to-list 'message-syntax-checks '(sender . disabled))
@end lisp

@noindent
then as soon as you start Gnus, message.el is loaded. If
you replace it with

@lisp
(add-to-list 'message-syntax-checks '(sender . disabled))
@end lisp

@noindent
it's loaded when it's needed.

@node [9.2]
@subsubheading Question 9.2

How to speed up the process of entering a group?

@subsubheading Answer

A speed killer is setting the variable
gnus-fetch-old-headers to anything different from nil,
so don't do this if speed is an issue. To speed up
building of summary say

@lisp
(gnus-compile)
@end lisp

@noindent
at the bottom of your ~/.gnus.el, this will make gnus
byte-compile things like
gnus-summary-line-format. 
then you could increase the value of gc-cons-threshold
by saying something like

@lisp
(setq gc-cons-threshold 3500000)
@end lisp

@noindent
in ~/.emacs. If you don't care about width of CJK
characters or use Gnus 5.10 or younger together with a
recent GNU Emacs, you should say

@lisp
(setq gnus-use-correct-string-widths nil)
@end lisp

@noindent
in ~/.gnus.el (thanks to Jesper harder for the last
two suggestions). Finally if you are still using 5.8.8
or 5.9 and experience speed problems with summary
buffer generation, you definitely should update to
5.10 since there quite some work on improving it has
been done.

@node [9.3]
@subsubheading Question 9.3

Sending mail becomes slower and slower, what's up?

@subsubheading Answer

The reason could be that you told Gnus to archive the
messages you wrote by setting
gnus-message-archive-group. Try to use a nnml group
instead of an archive group, this should bring you back
to normal speed.

@node FAQ - Glossary
@subsection Glossary

@table @dfn

@item ~/.gnus.el
When the term ~/.gnus.el is used it just means your Gnus
configuration file. You might as well call it ~/.gnus or
specify another name.

@item Back End
In Gnus terminology a back end is a virtual server, a layer
between core Gnus and the real NNTP-, POP3-, IMAP- or
whatever-server which offers Gnus a standardized interface
to functions like "get message", "get Headers" etc.

@item Emacs
When the term Emacs is used in this FAQ, it means either GNU
Emacs or XEmacs.

@item Message
In this FAQ message means a either a mail or a posting to a
Usenet Newsgroup or to some other fancy back end, no matter
of which kind it is.

@item MUA
MUA is an acronym for Mail User Agent, it's the program you
use to read and write e-mails.

@item NUA
NUA is an acronym for News User Agent, it's the program you
use to read and write Usenet news.

@end table

@c Local Variables:
@c coding: iso-2022-7bit
@c fill-column: 72
@c mode: texinfo
@c use-kuten-for-period: t
@c use-touten-for-comma: t
@c End:
