@c \input texinfo @c -*-texinfo-*-
@c Uncomment 1st line before texing this file alone.
@c %**start of header
@c Copyright (C) 1995, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008,
@c   2009, 2010 Free Software Foundation, Inc.
@c
@c Do not modify this file, it was generated from gnus-faq.xml, available from
@c <URL:http://my.gnus.org/FAQ/>.
@c
@setfilename gnus-faq-ja
@settitle Frequently Asked Questions
@c %**end of header
@c

@node Frequently Asked Questions
@section よく尋ねられる質問

@menu
* FAQ - Changes::
* FAQ - Introduction::         Gnus およびこの FAQ について
* FAQ 1 - Installation FAQ::   Gnus のインストール
* FAQ 2 - Startup / Group buffer:: 起動に関する質問と、最初に表示するバッファー
* FAQ 3 - Getting Messages::   Gnus でメールとニュースを読めるようにする
* FAQ 4 - Reading messages::   効率良くメッセージを読む方法
* FAQ 5 - Composing messages:: メッセージの作成、または Usenet への投稿
* FAQ 6 - Old messages::       移入、書庫への保存、検索、およびメッセージの消去
* FAQ 7 - Gnus in a dial-up environment:: オフラインでメールとニュースを読む
* FAQ 8 - Getting help::       この FAQ では不充分だったら
* FAQ 9 - Tuning Gnus::        Gnus を速くするには
* FAQ - Glossary::             この FAQ で使われる用語
@end menu

@subheading 要約

これは新しい Gnus のよく尋ねられる質問のリストです。Web ブラウザーがあれ
ば @uref{http://my.gnus.org/FAQ/} にある公式なハイパーテキスト版を読むこ
とができます。Docbook のソース
は @uref{http://sourceforge.net/projects/gnus/,
http://sourceforge.net} から手に入れることができます。

機能に関することや提案は @email{faq-discuss@@my.gnus.org, FAQ
discussion メーリングリスト} に送ってください。このメーリングリスト
は @uref{http://smarden.org/qconfirm/index.html, qconfirm} によって、ご
みメールから守られています。参加者からの投稿は自動的に通過するでしょう。
さらに空のメールを @email{faq-discuss-subscribe@@my.gnus.org} に送るか、
@uref{http://mail1.kens.com/cgi-bin/ezmlm-browse?command=monthbythread%26list=faq-discuss,
ここ} を閲覧することによっても、このメーリングリストを講読することができ
ます (残念ながら現在は壊れています)。

@node FAQ - Changes
@subheading 変更履歴

@itemize @bullet
@item
2008-06-15: message-fill-column の説明を実態に合わせました。
x-face-file を加えました。ding と gnu.emacs.gnus の違いをはっきりさせま
した。止まってしまったサービスへの参照を削除しました。

@item
2006-04-15: 送信し終わったときにそのバッファーを削除する方法を加えました。
@end itemize

@node FAQ - Introduction
@subheading 序

これは Gnus のよく尋ねられる質問のリストです。

Gnus は Emacs の要素として実装された Usenet ニュースリーダーおよび電子メー
ルのユーザーエージェントです。それはほぼこの十年間何らかの形で存在してお
り、その期間の多くにおいて Emacs の標準要素として配布されてきました。
Gnus 5 は最新の (そして最も偉大な) 作品です。オリジナルの版は GNUS と言
い、梅田政信さんが書きました。1994年の秋が忍び寄る頃、退屈していたラルス・
マッグヌ・イングブリグットスン (Lars Magne Ingebrigtsen) は Gnus を書き
直そうと決心しました。

その最大の強みは、極めてカスタマイズに適しているという事実にあります。こ
のことを始めて目にすると引いてしまうかもしれませんが、それを利用する準備
ができるまでは、複雑なもののほとんどは無視することができます。そこそこの
量の (いろんなメーリングリストに配信される) 電子メールがやって来るのなら
ば、流通量が多いメーリングリストを読みたいけれども遅れずについていくこと
ができないのならば、流通量が多いニュースグループを読んでいるのならば、あ
るいは単に退屈しているのならば、Gnus はあなたが望むものです。

この FAQ は 2002年3月まで Justin Sheehy によって維持されていました。彼は、
それ以前にすばらしい仕事をしてくれた Steve Baur と Per Abrahamsen に感謝
を表明しています。私たちも同じことをしましょう - ありがとう Justin!

Web ブラウザーがあれば @uref{http://my.gnus.org/FAQ/} にある公式なハイパー
テキスト版を読むことができます。この版は、ユトレヒト大学、オックスフォー
ド、Smart Pages、オハイオ州立大学に保存されている非公式なハイパーテキス
ト版や他の FAQ のアーカイブに比べて、はるかに良いものです。別のフォーマッ
トでそれを手に入れるための情報が欲しいなら、以下にある質問集を見てくださ
い。

ここにある情報は、Gnus 開発メーリングリストの援助でコンパイルされました。
どんなエラーあるいはミスプリントも my.gnus.org チームが犯した誤りです。
すみません。

訳注: そしてどんな誤訳の責任も gnus-doc-ja チームにあります。

@node FAQ 1 - Installation FAQ
@subsection インストールに関する FAQ

@menu
* FAQ 1-1::    Gnus の最新版は何ですか?
* FAQ 1-2::    5.10 では何が新しいですか?
* FAQ 1-3::    Gnus はどこで、どうやって取得することができますか?
* FAQ 1-4::    tarball で何をすれば良いですか?
* FAQ 1-5::    ときどき目にする No Gnus と Oort Gnus って何ですか?
* FAQ 1-6::    Emacs のどの版が必要ですか?
* FAQ 1-7::    Gnus を Emacs と XEmacs の両方で走らせるには?
@end menu

@node FAQ 1-1
@subsubheading 質問 1.1

Gnus の最新版は何ですか?

@subsubheading 回答

ジャーン: Gnus 5.10 がリリースされました。熱いうちに召し上がれ!@*
バージョン番号の歩みがいささか小さいのに反して、Gnus 5.10 には見逃せない
何トンもの新しい機能があります。現在のリリース (5.13) は、少なくと
も 5.8 系のリリースの最新版と同じくらい安定なはずです。

@node FAQ 1-2
@subsubheading 質問 1.2

5.10 では何が新しいですか?

@subsubheading 回答

第一に Gnus tarball の先頭のディレクトリーにある GNUS-NEWS ファイルに目
を通すべきです。そこでは最も重要な変更が羅列されています。ここでは特に重
要/興味深いものの短いリストを挙げるに留めます:

@itemize @bullet
@item
Gnus エージェントの大幅な書き直し。ディフォルトで有効になっています。

@item
見苦しく形成された記事を洗濯するための多くの機能。

@item
Spam 除け機能。

@item
Message-utils が Gnus に含まれました。@*
(訳注: Holger Schauer さんが書いた message-utils.el の諸機能
が message.el に移入されました。)

@item
概略行のための新しい書法仕様。例えば %B は複雑な trn 様式のスレッド
木 (tree) を指定する書法仕様です。
@end itemize

@node FAQ 1-3
@subsubheading 質問 1.3

Gnus はどこで、どうやって取得することができますか?

@subsubheading 回答

Gnus は Emacs や XEmacs のリリースとは別に、独自にリリースされます。その
ため Emacs に同梱されている版や XEmacs パッケージにある版は、最新ではな
いかもしれません (例えば Emacs 21 に同梱されている Gnus 5.9 は、使用期限
が切れています)。
@c
リリースされた最新版
の Gnus は、@uref{http://www.gnus.org/dist/gnus.tar.gz} から、または匿
名 ftp で @uref{ftp://ftp.gnus.org/pub/gnus/gnus.tar.gz} から手に入れる
ことができます。

@node FAQ 1-4
@subsubheading 質問 1.4

tarball で何をすれば良いですか?

@subsubheading 回答

@samp{tar xvzf gnus.tar.gz} でアーカイブを展開して、ありふれた@*
@samp{./configure; make; make install} の手順を実行してください。

@quotation
MS-Windows では @uref{http://www.cygwin.com} から Cygwin の環境も取得し
てください。それによって上述のことを行なうこと、またはある梱包
器 (packer) (例えば @uref{http://www.winace.com} にあ
る Winace) で tarball を開梱すること、そして tarball に含まれてい
る Gnus をインストールするためのバッチファイル @file{make.bat} を使うこ
とができるようになります。
@end quotation

Gnus をシステム領域にインストールしたくない (またはその権限が与えられて
いない) ならば、ホームディレクトリーにインストールすることもできます。そ
の場合は @file{~/.xemacs/init.el} ファイルか @file{~/.emacs} ファイルに
以下の行を加えてください。

@lisp
(add-to-list 'load-path "/path/to/gnus/lisp")
(if (featurep 'xemacs)
    (add-to-list 'Info-directory-list "/path/to/gnus/texi/")
  (add-to-list 'Info-default-directory-list "/path/to/gnus/texi/"))
@end lisp

@noindent
この行より前に、どんな Gnus に関係するものも確実に無いようにしてください。
MS Windows では "C:/path/to/lisp" のように書いてください (そう、"/" です)。

@node FAQ 1-5
@subsubheading 質問 1.5

ときどき目にする No Gnus と Oort Gnus って何ですか?

@subsubheading 回答

Oort Gnus は Gnus の開発版の名前で、2003年の秋に Gnus 5.10 になりました。
No Gnus は現行の開発版の名前で、Gnus 5.12 か Gnus 6 になるでしょう。(な
ぜ 5.11 ではないのかが不思議ですか?  奇数のバージョン番号は通常 Emacs に
同梱される Gnus の版に使われるのです。)

@node FAQ 1-6
@subsubheading 質問 1.6

Emacs のどの版が必要ですか?

@subsubheading 回答

Gnus 5.10 は Emacs 20.7 以上、または XEmacs 21.1 以上を必要とします。開
発版の Gnus (No Gnus として知られているも
の) は Emacs 21 か XEmacs 21.4 を必要とします。

@node FAQ 1-7
@subsubheading 質問 1.7

Gnus を Emacs と XEmacs の両方で走らせるには、どうすれば良いですか?

@subsubheading 回答

バイトコンパイルされた Gnus の同じコピーを両者で使うことはできません。
Emacs では Emacs でコンパイルしたものを、XEmacs では XEmacs でコンパイル
したものを使ってください。

@node FAQ 2 - Startup / Group buffer
@subsection 起動 / グループバッファー

@menu
* FAQ 2-1:: 　いつも Gnus を起動すると
              "Gnus auto-save file exists. Do you want to read it?"
              というメッセージを受け取るのですが、これは何を意味し
              ているのですか?  また、どうやったら回避できますか?

* FAQ 2-2:: 　Gnus は私がどのグループを講読するかを覚えてくれませ
              ん。どうしてですか?

* FAQ 2-3:: 　グループバッファーの各行の形式を変更するには、どう
              したら良いですか?

* FAQ 2-4:: 　私のグループバッファーはちょっと混んでいるのですが、
              それらを楽に巡回できるように、カテゴリーごとにまとま
              るように並べ変える方法はありますか?

* FAQ 2-5:: 　グループバッファーを手で並べ変えるにはどうしたら良い
              ですか? トピック内のグループを並べ変えるにはどうした
              ら良いですか?
@end menu

@node FAQ 2-1
@subsubheading 質問 2.1

いつも Gnus を起動すると "Gnus auto-save file exists. Do you want to
read it?" というメッセージを受け取るのですが、これは何を意味しているので
すか?  また、どうやったら回避できますか?

@subsubheading 回答

このメッセージが意味するのは、最後に Gnus を使ったときに適切に終了させな
かったために、ディスクにその情報 (例えばどのメッセージを読んだかの) を書
き込むことができなかったので、今、それらの情報を自動保存 (auto-save) ファ
イルから復活させるかどうかを尋ねられているということです。

このメッセージが発せられるのを回避するには、Gnus を終了させるときに単
に Emacs を kill するのではなく、グループバッファーで @kbd{q} を使うよう
にしてください。

@node FAQ 2-2
@subsubheading 質問 2.2

Gnus は私がどのグループを講読するかを覚えてくれません。どうしてですか?

@subsubheading 回答

Gnus を起動したときに、上記の質問と回答 (@pxref{FAQ 2-1}) で述べられてい
るメッセージを受け取りませんでしたか?  これは同じ問題の別の症状なので、
上記の回答を読んでください。

@node FAQ 2-3
@subsubheading 質問 2.3

グループバッファーの各行の形式を変更するには、どうしたら良いですか?

@subsubheading 回答

変数 @code{gnus-group-line-format} の値を調整しなければなりません。その
やり方についてはマニュア
ル (@pxref{Group Line Specification, ,グループ行の仕様, gnus-ja, The
Gnus Manual}) を見てください。このための例です (質問者
の @file{~/.gnus.el} ファイルからの推測です :-):

@lisp
(setq gnus-group-line-format "%P%M%S[%5t]%5y : %(%g%)\n")
@end lisp

@node FAQ 2-4
@subsubheading 質問 2.4

私のグループバッファーはちょっと混んでいるのですが、それらを楽に巡回でき
るように、カテゴリーごとにまとまるように並べ変える方法はありますか?

@subsubheading 回答

Gnus はトピックモードを提供します。それによってグループをその中へ入れて
並べ変えることができるようになります。えーとトピックを使うというのは、例
えば Linux を扱うすべてのグループは linux というトピックに収め、音楽を扱
うすべては music というトピックに収め、スコットランド音楽を扱うすべて
は scottish という music のサブトピックに収める、といったことです。

トピックモードに入るには、グループバッファーで単に @kbd{t} を叩いてくだ
さい。すると @kbd{T n} を使って現在位置でトピックを作ったり、あるグルー
プを @kbd{T m} を使って指定したトピックに移すことができます。さらなるコ
マンドについてはマニュアルかメニューを見てください。グループ行をより良く
行下げ (indent) させるためには、@code{gnus-group-line-format} 変数の先頭
に @code{%P} 書法仕様を含ませる必要があるでしょう。

@node FAQ 2-5
@subsubheading 質問 2.5

グループバッファーを手で並べ変えるにはどうしたら良いですか? トピック内の
グループを並べ変えるにはどうしたら良いですか?

@subsubheading 回答

移動させたいグループの上にポイントを移動して @kbd{C-k} を叩き、次にその
グループを移動させる目的の場所にポイントを移動して @kbd{C-y} を叩いてく
ださい。

@node FAQ 3 - Getting Messages
@subsection メッセージの取得

@menu
* FAQ 3-1::  　今まさに Gnus をインストールして `M-x gnus' で起動
               したのですが、"nntp (news) open error" としか言って
               くれません。どうしたら良いですか?

* FAQ 3-2::  　Windows を使っているのですが `~/.gnus.el' の意味が
               わかりません。

* FAQ 3-3::  　ニュースサーバーが認証を要求します。ディスクにユー
               ザ名とパスワードを保存しておくには、どうすれば良い
               ですか?

* FAQ 3-4::  　Gnus はうまく起動したようなのですが、グループを講読
               する方法が見つけられません。

* FAQ 3-5::  　Gnus がすべてのグループを表示してくれません / この
               サーバーへの投稿が許可されません。どうしてですか?

* FAQ 3-6::  　複数のサーバーからニュースを取り込みたいのですが、
               それは可能ですか?

* FAQ 3-7::  　それから、ローカル・スプール・ファイルからニュース
               を取り込むことは可能ですか?

* FAQ 3-8::  　ニュースを読むのはうまくいきましたが、Gnus でメール
               も読めるようにしたいのです。どうすれば良いですか?

* FAQ 3-9::  　それから、IMAP でメールを読めるようにするには、どう
               すれば良いですか?

* FAQ 3-10:: 　職場で MS Exchange サーバーの一つを使っているのです
               が、Gnus を使ってそこからメールを読むことはできます
               か?

* FAQ 3-11:: 　POP3 でメールを取得するサーバーで、メールを消さない
               ように Gnus に指示することはできますか?
@end menu

@node FAQ 3-1
@subsubheading 質問 3.1

今まさに Gnus をインストールして @kbd{M-x gnus} で起動したのですが、
"nntp (news) open error" としか言ってくれません。どうしたら良いですか?

@subsubheading 回答

どこからニュースを取得すべきかを Gnus に教えてあげなければなりません。や
り方については文献を読んでください。初めて起動するのであれば、次のような
ものを @file{~/.gnus.el} ファイルに書き込んでみてください:

@lisp
(setq gnus-select-method '(nntp "news.yourprovider.net"))
(setq user-mail-address "you@@yourprovider.net")
(setq user-full-name "Your Name")
@end lisp

@node FAQ 3-2
@subsubheading 質問 3.2

Windows を使っているのですが @file{~/.gnus.el} の意味がわかりません。

@subsubheading 回答

@file{~/} とは Gnus と Emacs が設定ファイルを探す場所であるホームディレ
クトリーのことです。でも、実はその意味を知らなくても構わないのです。
Emacs がわかっていれば十分ですから。:-)  @kbd{C-x C-f ~/.gnus.el RET} と
タイプすれば (そう、Windows でもスラッシュでいいのです) Emacs は正しいファ
イルを開いてくれるでしょう (それが新規ファイルであるために中身が空っぽで
あることは、おおいにあり得るでしょう)。しかしちょっと待ってください。
Emacs が選ぶディレクトリーは、きっとあなたの希望通りにはならないので、正
しいやり方でそれを行ないましょう。第一に、例えば c:\myhome のような適当
なディレクトリーを (ディレクトリー名に空白を含めないで) 作ってください。
そして、このディレクトリーを環境変数 HOME に設定しましょう。これ
を Win9x か Me で行なうには、@file{autoexec.bat} ファイルに以下の行を追
加して、再起動してください。

@example
SET HOME=C:\myhome
@end example

@noindent
NT, 2000 および XP では、システム・オプションを入力するため
に @kbd{Winkey + Pause/Break} を叩いて (もしそれが使えなかったら「コント
ロールパネル -> システム -> 詳細」を辿って) ください。そこで環境変数を設
定できるでしょう。HOME という名前で値が C:\myhome のものを作ってください。
再起動は不要です。

では、Emacs に @kbd{C-x C-f ~/.gnus.el RET C-x C-s} を指示し
て、@file{~/.gnus.el} ファイルを作りましょう。

@node FAQ 3-3
@subsubheading 質問 3.3

ニュースサーバーが認証を要求します。ディスクにユーザー名とパスワードを保
存しておくには、どうすれば良いですか?

@subsubheading 回答

次のように、それぞれのサーバーに関する行を含んだ @file{~/.authinfo} ファ
イルを作ってください。

@example
machine news.yourprovider.net login YourUserName password YourPassword
@end example

@noindent
OS が対応しているならば、そのファイルを他人が読めないようにしておきましょ
う。Unix ではシェル上で次のコマンドを実行してください。

@example
chmod 600 ~/.authinfo
@end example

@node FAQ 3-4
@subsubheading 質問 3.4

Gnus はうまく起動したようなのですが、グループを講読する方法が見つけられ
ません。

@subsubheading 回答

そのグループの名前がわかっているのなら、グループバッファーで @kbd{U
name.of.group RET} を使ってください (タブ補完を使え、ルーク (訳注: オ
ビ=ワン・ケノービの声で))。あるいはグループバッファーで @kbd{^} を使いま
しょう。これはあなたをサーバーバッファーへ連れて行きます。その場合は、目
的のグループがあるサーバーの上にポイント (カーソル) を置い
て @kbd{RET} を叩き、読みたいグループにポイントを移動してから @kbd{u} で
そのグループを講読しましょう。

@node FAQ 3-5
@subsubheading 質問 3.5

Gnus がすべてのグループを表示してくれません / このサーバーへの投稿が許可
されません。どうしてですか?

@subsubheading 回答

プロバイダーのいくつかは匿名での接続を制限していて、認証してからでないと
完全なアクセスを許しません。Gnus に認証のための情報 (authinfo) を送出さ
せるには、@file{~/.authinfo} ファイルの該当するサーバーの行の最後に

@example
force yes
@end example

@noindent
を追加してください。

@node FAQ 3-6
@subsubheading 質問 3.6

複数のサーバーからニュースを取り込みたいのですが、それは可能ですか?

@subsubheading 回答

もちろん。変数 @code{gnus-secondary-select-methods} に、もっと多くの記事
の供給元を設定することができます。以下のようなもの
を @file{~/.gnus.el} ファイルに追加してください:

@lisp
(add-to-list 'gnus-secondary-select-methods
             '(nntp "news.yourSecondProvider.net"))
(add-to-list 'gnus-secondary-select-methods
             '(nntp "news.yourThirdProvider.net"))
@end lisp

@node FAQ 3-7
@subsubheading 質問 3.7

それから、ローカル・スプール・ファイルからニュースを取り込むことは可能で
すか?

@subsubheading 回答

問題ありません。それは @code{nnspool} というもう一つの選択方法です。こん
なふうに設定してください:

@lisp
(add-to-list 'gnus-secondary-select-methods '(nnspool ""))
@end lisp

@noindent
あるいは @acronym{NNTP} を第一ニュースソースとして使う必要が無いのであれ
ば、こうしてください:

@lisp
(setq gnus-select-method '(nnspool ""))
@end lisp

@noindent
これで Gnus は @file{/usr/spool/news} にあるスプール・ファイルを探します。
何か違うことをやりたいのならば、上記の行を次のようなものに変更してくださ
い:

@lisp
(add-to-list 'gnus-secondary-select-methods
             '(nnspool ""
                       (nnspool-directory "/usr/local/myspoolddir")))
@end lisp

@noindent
これは、このサーバーだけのために、スプールが存在するディレクトリーを設定
します。さらに記事を投稿するために使うプログラムなどを設定する必要がある
かもしれません。そういう場合にどうしたら良いかについては、Gnus のマニュ
アルを参照してください。

@node FAQ 3-8
@subsubheading 質問 3.8

ニュースを読むのうまくいきましたが、Gnus でメールも読めるようにしたいの
です。どうすれば良いですか?

@subsubheading 回答

それは少しばかり難しいです。使うことができるメールソースはいっぱいあるし、
メールを格納する方法はたくさんあるし、送信するための方法も様々なので。最
もありふれているのは、次の二つの事例のようなものでしょう:

@enumerate
@item
@acronym{POP3} サーバーからメールを読み、@acronym{SMTP} サーバーに直接メー
ルを送信します。

@item
fetchmail のようなプログラムでメールを取り込んで、Gnus が読むことになっ
ているディレクトリーに格納します。外に行くメールは Sendmail, Postfix ま
たは他の MTA によって送出されます。
@end enumerate

ときには、これらを併用する必要さえあります。

しかし最初に行なうことは、どの方法でメールを格納するか、Gnus の用語で言
うと、どのバックエンドを使うかを Gnus に指示することです。Gnus は多くの
異なるバックエンドをサポートしますが、最も一般的に使われているの
は @code{nnml} です。それは一通のメールを一つのファイルに格納し、そのた
め極めて高速です。でも、あなたが使っているファイルシステムがたくさんの小
さなファイルを扱う上で問題があるのならば、一つのグループのすべてのメール
を一つのファイルに収める方法を使う必要があるかもしれません。おそらくそう
いう場合の選択肢が @code{nnfolder} バックエンドです。

@noindent
@code{nnml} を使うには、以下を @file{~/.gnus.el} ファイルに加えてくださ
い:

@lisp
(add-to-list 'gnus-secondary-select-methods '(nnml ""))
@end lisp

@noindent
@code{nnfolder} を使いたいのならば、あなたの想像した通り、こうすれば良い
でしょう:

@lisp
(add-to-list 'gnus-secondary-select-methods '(nnfolder ""))
@end lisp

@noindent
次に、メールをどこから取得するかを Gnus に伝えなければなりません。それ
が @acronym{POP3} サーバーであるのなら、このように設定してください:

@lisp
(add-to-list 'mail-sources '(pop :server "pop.YourProvider.net"
                                 :user "yourUserName"
                                 :password "yourPassword"))
@end lisp

@noindent
もしそこにパスワードを書いておくのなら、他人が @file{~/.gnus.el} ファイ
ルを読めないようにしておいてください。メールをローカルマシンの伝統的なス
プールファイルから読みたい場合は、以下のように設定してください:

@lisp
(add-to-list 'mail-sources '(file :path "/path/to/spool/file"))
@end lisp

@noindent
もしそれが Postfix, Qmail または (そういうふうに設定されている)
fetchmail によって使われる、一通/一ファイル形式の Maildir であるのならば、
こんなふうにしましょう:

@lisp
(add-to-list 'mail-sources '(maildir :path "/path/to/Maildir/"
                                     :subdirs ("cur" "new")))
@end lisp

@noindent
そして最後に、メールを一つのディレクトリーにある複数のファイルから読むよ
うにしたいのであれば (例えば procmail がすでに分割してあるという理由で)、
設定は以下のようになります:

@lisp
(add-to-list 'mail-sources
             '(directory :path "/path/to/procmail-dir/"
                         :suffix ".prcml"))
@end lisp

@noindent
ここで @code{:suffix} に指定した ".prcml" は、Gnus に拡張子が .prcml の
ファイルだけを使うことを指示するためのものです。

さあ、後はどうやってメールを送信するかを Gnus に教えるだけです。メールの
送信に sendmail を使いたければ (または、あなたのシステムの MTA が何であ
れ sendmail の役を演じるのならば)、何もしなくても良いのです。でも、も
し @acronym{SMTP} サーバーにメールを送りたいのだったら、以下のようなもの
が @file{~/.gnus.el} ファイルに書かれている必要があります:

@lisp
(setq send-mail-function 'smtpmail-send-it)
(setq message-send-mail-function 'smtpmail-send-it)
(setq smtpmail-default-smtp-server "smtp.yourProvider.net")
@end lisp

@node FAQ 3-9
@subsubheading 質問 3.9

それから、@acronym{IMAP} でメールを読めるようにするには、どうすれば良い
ですか?

@subsubheading 回答

Gnus で @acronym{IMAP} を使うには二つの方法があります。最初の
は @acronym{IMAP} を @acronym{POP3} のように使うもので、
Gnus は @acronym{IMAP} サーバーからメールを取得してディスクに格納します。
これをやりたいのなら (本当にそんなことをしたい人はいないでしょうけれど)、
以下の設定を @file{~/.gnus.el} ファイルに加えてください:

@lisp
(add-to-list 'mail-sources '(imap :server "mail.mycorp.com"
                                  :user "username"
                                  :pass "password"
                                  :stream network
                                  :authentication login
                                  :mailbox "INBOX"
                                  :fetchflag "\\Seen"))
@end lisp

@noindent
@code{:stream} および/または @code{:authentication} の項はいじる必要があ
るかもしれません。使うことができる値については Gnus マニュア
ル (@pxref{Mail Source Specifiers, ,メールソース指示子, gnus-ja, The
Gnus Manual}) を参照してください。

@acronym{IMAP} をそれが意図された方法で使いたい場合は、違うやり方に従う
必要があります。そうするには選択方法に @code{nnimap} を加え、そこでサー
バーに関する情報を与えてください:

@lisp
(add-to-list 'gnus-secondary-select-methods
             '(nnimap "Give the baby a name"
                      (nnimap-address "imap.yourProvider.net")
                      (nnimap-port 143)
                      (nnimap-list-pattern "archive.*")))
@end lisp

@noindent
さらに Gnus が正しいやり方を推測できない場合には、サーバーに認証しても
らう方法を指定しなければならないでしょう。詳しい情報はマニュア
ル (@pxref{IMAP, ,IMAP, gnus-ja, The Gnus Manual}) を参照してください。

@node FAQ 3-10
@subsubheading 質問 3.10

職場で MS Exchange サーバーの一つを使っているのですが、Gnus を使ってそこ
からメールを読むことはできますか?

@subsubheading 回答

サーバーに @acronym{IMAP} という新しい運動靴を一足はかせてくれるように、
管理人にお願いしてください。そして上記の説明に従って、必要なことを行なっ
てください。

@node FAQ 3-11
@subsubheading 質問 3.11

POP3 でメールを取得するサーバーで、メールを消さないように Gnus に指示す
ることはできますか?

@subsubheading 回答

そもそも @acronym{POP3} はそういうふうに動作することが意図されていません。
それが可能なら、メッセージをサーバー上に残すためには @acronym{IMAP} プロ
トコルを使うべきです。それでもなお、そういう機能を必要とする状況があるか
もしれませんが、悲しいかな、Gnus 自体はそうするための既設の機能を持って
いないのです。

しかしここは Gnus 村ですから、あなたの希望を達成する見込みが無いわけでは
ありません。最も簡単な方法は、メールのコピーを取り込んで、それらをディス
クに格納してくれる外部プログラムを手に入れることです。そうすれば Gnus は
そこから読むことができます。例えば Unix システムでは fetchmail がそれで
す。MS Windows では、優れたニュースとメールのサーバーである Hamster を使
うことができます。

別の解は、Gnus が @acronym{POP3} サーバーからメールを取得する手段を、メー
ルをサーバーに残すことができるもので置き換えることでしょう。XEmacs を使っ
ているのであれば mail-lib パッケージを手に入れてください。それは拡張され
た @file{pop3.el} を含んでいます。ファイルの中身を見てください。それを使
うように Gnus に指示するやり方と、取得したメールを削除しない方法の説明が
書かれています。GNU Emacs を使っている場合は、同じことを行なうことができ
る @file{epop3.el} を探してください (そのファイルの元の出どころを知って
いる人は、私 (訳注: Simon Josefsson さんだと思います、たぶん) にメールを
送ってください)。さらに Gnus に外部プログラム (例えば fetchmail) を使っ
てメールを取り寄せるようにさせることもできます。やり方は Gnus マニュア
ル (@pxref{Mail Source Specifiers, ,メールソース指示子, gnus-ja, The
Gnus Manual}) を参照してください。

@quotation
訳注: T-gnus に含まれている @file{pop3.el} は、XEmacs のやり方をさらに発
展させて、完全に Gnus とともに動作するようになっています (した)。
@end quotation

@node FAQ 4 - Reading messages
@subsection メッセージを読む

@menu
* FAQ 4-1::  　グループに入ると、以前に読んだメッセージが全部なく
               なってしまっています。もう一度読むには、どうしたら
               良いですか?

* FAQ 4-2::  　大事なメッセージを、すでに読んだことがあっても、グ
               ループに入ったときはいつでも見えるように Gnus に指
               示するには、どうすれば良いですか?

* FAQ 4-3::  　メッセージのヘッダーを見るにはどうしたら良いですか?

* FAQ 4-4::  　整形されていない生のメッセージを見るには、どうすれ
               ば良いですか?

* FAQ 4-5::  　記事バッファーの先頭に Gnus がディフォルトで表示す
               るヘッダーを変更するには、どうしたら良いですか?

* FAQ 4-6::  　HTML メールを描画するのではなく、それがある場合には
               テキストのパートを Gnus に表示して欲しいです。どう
               すれば良いですか?

* FAQ 4-7::  　HTML メールを w3 以外のブラウザーを使って描画させる
               ことはできますか?

* FAQ 4-8::  　見苦しい体裁のメールをもっと読みやすくするための何
               かがありますか?

* FAQ 4-9::  　特定の著者が送信したものや、表題に特定の語が含まれ
               ているメッセージを、自動的に無視する方法はあります
               か?  また、より興味深いものを何らかの方法で強調表示
               させることはできますか?

* FAQ 4-10:: 　いくつかの (例えばメールの) グループで、スレッド表
               示をさせなくすることはできますか?  あるいは、いくつ
               かのグループに固有の変数を設定することができますか?

* FAQ 4-11:: 　私が書いたメッセージとフォロー記事を、強調表示させ
               ることはできますか?

* FAQ 4-12:: 　特にメールのグループで、Gnus がグループバッファーに
               表示するメッセージの合計の数が非常に大きいのです。
               これはバグですか?

* FAQ 4-13:: 　概略バッファーと記事バッファーの配置が気に入らない
               のですが、どうやったら変更できますか?  できるなら三
               面で表示させたいです。

* FAQ 4-14:: 　概略バッファーを見せるやり方が好きではありません。
               調整するには、どうすれば良いですか?

* FAQ 4-15:: 　やってきたメールをいろいろなグループに振り分けるに
               は、どうしたら良いですか?
@end menu

@node FAQ 4-1
@subsubheading 質問 4.1

グループに入ると、以前に読んだメッセージが全部なくなってしまっています。
もう一度読むには、どうしたら良いですか?

@subsubheading 回答

グループバッファーにおいて、そのグループの上にポイントが置かれている状態
で @kbd{RET} を使うと、未読と可視記事の印 (ticked) が付いたメッセージだ
けが現れます。存在するすべてのメッセージが表示されるようにするには、代わ
りに @kbd{C-u RET} を使ってください。もし最新の、例えば 300通だけが所望
ならば、@kbd{C-u 300 RET} を使いましょう。

スレッド表示を有効にしていると、未読のメッセージだけを表示するのはじれっ
たいかもしれません。スレッドがちぎれてしまうことを防止するのに十分な量の
古い記事を取り込むには、以下の設定を追加すれば良いでしょう:

@lisp
(setq gnus-fetch-old-headers 'some)
@end lisp

@noindent
@code{some} を @code{t} に替えると、すべての記事を表示するようになりま
す (警告: どちらの設定もグループに入ったときに取り込むデータ量を増加させ、
グループに入る処理を遅くしてしまいます)。

すでに Gnus 5.10 を使っているならば、最後の @var{n} 通のメッセージを取り
込むために、概略バッファーで @kbd{/o N} 命令を使うことができます。この機
能は 5.8.8 にはありません。

すべての古いメッセージは要らないけれども、今まさに読んでいるメッセージの
親を辿りたいならば @kbd{^} 命令を使ってください。今まさに読んでいるメッ
セージが属しているスレッドのすべての記事を表示したい場合は、
@samp{A T} 命令があなたの望むものです。

@node FAQ 4-2
@subsubheading 質問 4.2

大事なメッセージを、すでに読んだことがあっても、グループに入ったときはい
つでも見えるように Gnus に指示するには、どうすれば良いですか?

@subsubheading 回答

大事なメッセージには可視記事の印 (ticked) を付けることができます。それに
は、概略バッファーでポイントがその記事を指しているときに @kbd{u} を叩い
てください。可視記事の印を消す命令は @kbd{d} (これは可視記事の印を消して
から未読の印を付けます) または @kbd{M c} (そのメッセージに付いているすべ
ての印を消します) です。

@node FAQ 4-3
@subsubheading 質問 4.3

メッセージのヘッダーを見るにはどうしたら良いですか?

@subsubheading 回答

@kbd{t} 命令を使うとすべてのヘッダーを表示し、もう一度使うとそれらを隠し
ます。

@node FAQ 4-4
@subsubheading 質問 4.4

整形されていない生のメッセージを見るには、どうすれば良いですか?

@subsubheading 回答

@kbd{C-u g} 命令を使うと生のメッセージを表示し、@kbd{g} で通常の表示に戻
ります。

@node FAQ 4-5
@subsubheading 質問 4.5

記事バッファーの先頭に Gnus がディフォルトで表示するヘッダーを変更するに
は、どうしたら良いですか?

@subsubheading 回答

変数 @code{gnus-visible-headers} がどのヘッダーを表示するかを制御します。
その値は正規表現で、それに合致するヘッダー行が表示されます。したがって、
著者、表題、日付、そしてもし存在する場合は Followup-To と MUA / NUA を表
示したい場合には、@file{~/.gnus.el} ファイルで以下の設定を行なってくださ
い:

@lisp
(setq gnus-visible-headers
      '("^From" "^Subject" "^Date" "^Newsgroups" "^Followup-To"
        "^User-Agent" "^X-Newsreader" "^X-Mailer"))
@end lisp

@node FAQ 4-6
@subsubheading 質問 4.6

@acronym{HTML} メールを描画するのではなく、テキストのパートがある場合に
は、そちらの方を Gnus に表示して欲しいです。どうすれば良いですか?

@subsubheading 回答

@file{~/.gnus.el} ファイルで以下の設定を行なってください:

@lisp
(add-to-list 'mm-discouraged-alternatives "text/html")
(add-to-list 'mm-discouraged-alternatives "text/richtext")
@end lisp

@noindent
@acronym{HTML} のパートと同じ内容のテキストのパートが無い場合でさえ
も @acronym{HTML} のパートを描画して欲しくないのであれば、以下の設定を追
加してください:

@lisp
(setq mm-automatic-display (remove "text/html" mm-automatic-display))
@end lisp

@node FAQ 4-7
@subsubheading 質問 4.7

@acronym{HTML} メールを w3 以外のブラウザーを使って描画させることはでき
ますか?

@subsubheading 回答

Gnus 5.10 またはより新しいものを使う場合だけですが、w3, w3m, links,
lynx および html2text の中から選ぶことができ、どれを使うかは変
数 @code{mm-text-html-renderer} で指定することができます。したがっ
て links で @acronym{HTML} メールを描画したいときは、こうしてください:

@lisp
(setq mm-text-html-renderer 'links)
@end lisp

@node FAQ 4-8
@subsubheading 質問 4.8

見苦しい体裁のメールをもっと読みやすくするための何かがありますか?

@subsubheading 回答

Gnus は入ってきたメールを「洗濯」するために複数の関数を提供します。それ
らはメニューの Article->Washing 項目を辿ることによって見つけることができ
るでしょう。最も興味深いものを挙げてみましょう:

@table @kbd
@item W w (Wrap long lines)
長い行を折り畳みます。

@item W r (Decode ROT13)
ROT13 をデコードします。

@item W Y f (Outlook Deuglify)
Outlook を見苦しくなくさせます。これは、マイクロソフトの製品を使っている
多くのユーザーが送ってくる間の抜けた引用付き返信 (訳注: 折り畳まれた長い
引用行の二行目以降に引用符が前置されないなど) を修繕します。

他の見苦しくなくさせる機能については @kbd{W Y C-h} を使うかメニューを眺
めてください。Outlook Deuglify は Gnus 5.10 以上で使うことができます。
@end table

@node FAQ 4-9
@subsubheading 質問 4.9

特定の著者が送信したものや、表題に特定の語が含まれているメッセージを、自
動的に無視する方法はありますか?  また、より興味深いものを何らかの方法で
強調表示させることはできますか?

@subsubheading 回答

あなたに必要なのはスコア付けです。スコア付けと言うのは、それぞれのメッセー
ジに整数の値を割り付けるための規則を定義することです。値に基づいて概略バッ
ファーでメッセージを強調表示したり (それが +2000 といった高い値だったら)、
自動的に既読にしたり (その値が例えば -800 のような低い値だったら)、ある
いは他のいくつかの作用を行なったりします。

メッセージにスコアの値を割り付ける規則を設定するための、基本的な三つのや
り方があります。

@enumerate
@item
最初の最も簡単なやり方は、今まさに読んでいる記事に基づいて規則を設定する
ことです。いつもたわごとを書いてよこすやつからのメッセージを読んで、今後
はそいつからのメッセージを無視しようと決心したならば、@kbd{L} を叩いてス
コアを下げる規則を設定してください。

すると Gnus は、スコアを下げる基準をどれにすれば良いかを尋ねてくるでしょ
う。@kbd{?} を二回叩くと、すべての候補を見ることができますが、ここで選択
すべきなのは著者 (From ヘッダー) を意味する @kbd{a} です。

次に Gnus はどの種類の合致を使うべきかを尋ねてくるので、厳密な合致のため
の @kbd{e} を叩くか、あるいは文字の一部への合致を求める @kbd{s} を叩いて
から、後ですべてを削除してください。どんな電子メールアドレスであっても、
それを持つすべての著者のスコアを下げるために、その名前が使われます。

さらに、その規則をいつ適用するべきか、またどれくらいの時間続けるべきか
を Gnus に伝える必要があります。例えば @kbd{p} では、その規則を今すぐ適
用して、それを永久に持続させます。

スコアを下げるのではなくて上げたいのであれば、@kbd{L} の代わり
に @kbd{I} を使ってください。

@item
規則を手で設定することもできます。そうするには概略バッファー
で @kbd{V f} 命令を使ってください。するとスコアファイルの名前を尋ねられ
るでしょう。一つのグループだけで有効なのは @file{name.of.group.SCORE} で、
すべてのグループに対して有効なのが @file{all.SCORE} です。厳密な構文につ
いては Gnus のマニュアルを参照してください。それは一つの大きなリストで、
その要素もまた多くのリストです。その後者の単位リストの第一要素はスコアの
対象であるヘッダーで、残りは、何に合致するか、いくらのスコアを割り当てる
か、規則を期限切れ消去するのはいつか、そしてどうやって合致させるかを示す
もう一つのリストです。私にとても興味を持ったならば、例えば以下のようなも
のを @file{all.SCORE} ファイルに加えてみてください:

@lisp
(("references" ("hschmi22.userfqdn.rz-online.de" 500 nil s))
 ("message-id" ("hschmi22.userfqdn.rz-online.de" 999 nil s)))
@end lisp

@noindent
これは私が書いたメッセージのスコアに 999 を加えて、それに対する (たぶん
間接的な) 回答のメッセージのスコアに 500 を加えるでしょう。もちろん分別
のある人は誰も、こんなことはしないでしょうが。:-)

@item
三番目の選択肢は適応スコア付けです。これは、Gnus があなたを観察して、あ
なたが何に興味を持って何に幻滅するかを見つけ出し、それらを反映した規則を
設定してくれるものです。流通量の多いグループを読むときに、適応スコア付け
は大きな助けになるでしょう。適応スコア付けをやってみたいならば、
@file{~/.gnus.el} ファイルで以下の宣言を行なってください:

@lisp
(setq gnus-use-adaptive-scoring t)
@end lisp
@end enumerate

@node FAQ 4-10
@subsubheading 質問 4.10

いくつかの (例えばメールの) グループで、スレッド表示をさせなくすることは
できますか?  あるいは、いくつかのグループに固有の変数を設定することがで
きますか?

@subsubheading 回答

グループバッファーにいるときに、そのグループにポイントを移動してか
ら @kbd{G c} を叩いてください。すると、そのグループのためのオプションを
設定することができるバッファーが開きます。そして、そのバッファーのおしま
いの方で、そのグループでローカルに変数を設定するための項目を見つけること
ができるでしょう。スレッド表示をさせなくするには、変数名とし
て @code{gnus-show-threads} を、値として @code{nil} を入力してください。
作業を終えたら、そのバッファーの最初の方にある [done] ボタンを叩きましょ
う。

@node FAQ 4-11
@subsubheading 質問 4.11

私が書いたメッセージとフォロー記事を、強調表示させることはできますか?

@subsubheading 回答

「できますか?」なんて質問はやめてください。Gnus 村では答えはいつ
も yes なのですから。:-) これは三段階の作業になります。まず、それらの投
稿のためのフェース (概略行がどんなふうに見えるかの仕様) を作りましょう。
続いて、それらにいくばくかの特別なスコアを与えましょう。最後に、その新し
いフェースを使うように Gnus に指示しましょう。それをどう行なうかの詳しい
説明が @uref{http://my.gnus.org/node/view/224, my.gnus.org} にあります。

@node FAQ 4-12
@subsubheading 質問 4.12

特にメールのグループで、Gnus がグループバッファーに表示するメッセージの
合計の数が非常に大きいのです。これはバグですか?

@subsubheading 回答

いいえ、これは Gnus の設計上の問題で、これを直すには Gnus のバックエンド
の主要な部分を実装し直さなければなりません。Gnus は最大の記事番号から最
小の記事番号を減算したものが合計の記事数であると解釈します。これ
は Usenet のグループでは OK なのですが、メールのグループでたくさんのメッ
セージを消去したり移動すると計算に失敗します。この病を治療するに
は @kbd{C-u RET} でそのグループに入り (この命令は Gnus にすべてのメッセー
ジを持って来させます)、@kbd{M P b} ですべてのメッセージに印を付けてから、
@kbd{B m name.of.group} でメッセージを全部、それらが元あったグループに移
動してください。この処理によってそれらは新しいメッセージ番号を持たせられ
て、合計の記事数は再び正しくなるでしょう (またもやそれらを消したり別のグ
ループに移動するまでは)。

@node FAQ 4-13
@subsubheading 質問 4.13

概略バッファーと記事バッファーの配置が気に入らないのですが、どうやったら
変更できますか?  できるなら三面で表示させたいです。

@subsubheading 回答

@code{gnus-add-configuration} 関数を呼ぶことによって、ウィンドウの配置を
制御することができます。構文はいささか複雑ですが、マニュアルで非常に良く
説明されています (@pxref{Window Layout, ,ウィンドウの配置, gnus-ja, The
Gnus Manual})。いくつかのやさしい例を挙げてみましょう。

概略 25% 記事 75% というディフォルトの割合を、概略 35% 記事 65% の割合に
変更します (記事のための 1.0 は、残った空き地を取るという意味です):

@lisp
(gnus-add-configuration
 '(article (vertical 1.0 (summary .35 point) (article 1.0))))
@end lisp

@noindent
グループバッファーが左、概略バッファーが右上、記事バッファーが右下という
三面配置です:

@lisp
(gnus-add-configuration
 '(article
   (horizontal 1.0
               (vertical 25
                         (group 1.0))
               (vertical 1.0
                         (summary 0.25 point)
                         (article 1.0)))))
(gnus-add-configuration
 '(summary
   (horizontal 1.0
               (vertical 25
                         (group 1.0))
               (vertical 1.0
                         (summary 1.0 point)))))
@end lisp

@node FAQ 4-14
@subsubheading 質問 4.14

概略バッファーを見せるやり方が好きではありません。調整するには、どうすれ
ば良いですか?

@subsubheading 回答

変数 @code{gnus-summary-line-format} をいじくり回す必要があります。その
値は著者、日付、表題などのようなものを表すシンボルの文字列です。使うこと
ができる仕様のリストは @pxref{Summary Buffer Lines, ,概略バッファーの行,
gnus-ja, The Gnus Manual} と、しばしば忘れられてしまう @pxref{Formatting
Variables, ,書法仕様変数, gnus-ja, The Gnus Manual} およびその下位の各章
で見つかるはずです。そこでは書法仕様の概略を使うことができるようにしてく
れる、カーソルの位置指定やタブ位置の指定のようなものを見つけることができ
るでしょう。残念ながら 5.8.8 ではタブ位置を固定させる機能が壊れています。

5.10 から、Gnus は非常にみごとな新しい書法仕様変数を提供しています。例え
ば %B はスレッド木を描き、また %&user-date は、どう表示するかが記事が発
信されてからの経過時間に依存している日付を表示します。これらの両方を使っ
ている例です:

@lisp
(setq gnus-summary-line-format
      ":%U%R %B %s %-60=|%4L |%-20,20f |%&user-date; \n")
@end lisp

@noindent
結果はこんなふうになります:

@example
:O     Re: [Richard Stallman] rfc2047.el          |  13 |Lars Magne Ingebrigt |Sat 23:06
:O     Re: Revival of the ding-patches list       |  13 |Lars Magne Ingebrigt |Sat 23:12
:R  >  Re: Find correct list of articles for a gro|  25 |Lars Magne Ingebrigt |Sat 23:16
:O  \->  ...                                      |  21 |Kai Grossjohann      | 0:01
:R  >  Re: Cry for help: deuglify.el - moving stuf|  28 |Lars Magne Ingebrigt |Sat 23:34
:O  \->  ...                                      | 115 |Raymond Scholz       | 1:24
:O    \->  ...                                    |  19 |Lars Magne Ingebrigt |15:33
:O     Slow mailing list                          |  13 |Lars Magne Ingebrigt |Sat 23:49
:O     Re: `@@' mark not documented                |  13 |Lars Magne Ingebrigt |Sat 23:50
:R  >  Re: Gnus still doesn't count messages prope|  23 |Lars Magne Ingebrigt |Sat 23:57
:O  \->  ...                                      |  18 |Kai Grossjohann      | 0:35
:O    \->  ...                                    |  13 |Lars Magne Ingebrigt | 0:56
@end example

@node FAQ 4-15
@subsubheading 質問 4.15

やってきたメールをいろいろなグループに振り分けるには、どうしたら良いです
か?

@subsubheading 回答

Gnus はメールを分割するための二つの手段として、やさし
い @code{nnmail-split-methods} と、もっと強力な特級メール分割の機能を提
供します。ここでは最初のものだけについて述べますが、後者についてはマニュ
アル (@pxref{Fancy Mail Splitting, ,特級メール分割, gnus-ja, The Gnus
Manual}) を参照してください。

@code{nnmail-split-methods} の値はリストで、それぞれの要素は分割の規則を
表すリストです。それぞれの規則は「合致する記事が行くべきグループ」と「合
致すべき正規表現」の形式を持っていて、最初に合致した規則が勝ちます。最後
の規則は常に汎用の規則 (正規表現 @samp{.*}) でなければなりません。それは
他のどんな規則にも合致しない記事が行くべき場所を示します。もしまだフォル
ダーが無かったならば、それは記事がそこに着地するとすぐに作られるでしょう。
ディフォルトでは、メールは規則に合致するすべてのグループに送られます。そ
れを望まないならば (たぶん望まないでしょう)、以下のもの
を @file{~/.gnus.el} ファイルに入れてください:

@lisp
(setq nnmail-crosspost nil)
@end lisp

たった一つの例は千の言葉を並べるよりも勝ります。そこで、ここでは私
の @code{nnmail-split-methods} を紹介しましょう。私は、私が講読している
いくつかのメーリングリストから来るか、私を直接に目指して来たすべてのメー
ルを濾過器に通すので、私が特別のグループの複写を送ることと、ディフォルト
のグループは @samp{spam} であることに注意してください。これらの規則は、
私宛てに届いた spam のおよそ 80% を殺してくれます (電子メールアドレス
は spammers がそれらを使用するのを防ぐために変更されます)。

@lisp
(setq
 nnmail-split-methods
 '(("duplicates" "^Gnus-Warning:.*duplicate")
   ("XEmacs-NT" "^\\(To:\\|CC:\\).*localpart@@xemacs.invalid.*")
   ("Gnus-Tut" "^\\(To:\\|CC:\\).*localpart@@socha.invalid.*")
   ("tcsh" "^\\(To:\\|CC:\\).*localpart@@mx.gw.invalid.*")
   ("BAfH" "^\\(To:\\|CC:\\).*localpart@@.*uni-muenchen.invalid.*")
   ("Hamster-src" "^\\(CC:\\|To:\\).*hamster-sourcen@@yahoogroups.\\(de\\|com\\).*")
   ("Tagesschau" "^From: tagesschau <localpart@@www.tagesschau.invalid>$")
   ("Replies" "^\\(CC:\\|To:\\).*localpart@@Frank-Schmitt.invalid.*")
   ("EK" "^From:.*\\(localpart@@privateprovider.invalid\\|localpart@@workplace.invalid\\).*")
   ("Spam" "^Content-Type:.*\\(ks_c_5601-1987\\|EUC-KR\\|big5\\|iso-2022-jp\\).*")
   ("Spam" "^Subject:.*\\(This really work\\|XINGA\\|ADV:\\|XXX\\|adult\\|sex\\).*")
   ("Spam" "^Subject:.*\\(\=\?ks_c_5601-1987\?\\|\=\?euc-kr\?\\|\=\?big5\?\\).*")
   ("Spam" "^X-Mailer:\\(.*BulkMailer.*\\|.*MIME::Lite.*\\|\\)")
   ("Spam" "^X-Mailer:\\(.*CyberCreek Avalanche\\|.*http\:\/\/GetResponse\.com\\)")
   ("Spam" "^From:.*\\(verizon\.net\\|prontomail\.com\\|money\\|ConsumerDirect\\).*")
   ("Spam" "^Delivered-To: GMX delivery to spamtrap@@gmx.invalid$")
   ("Spam" "^Received: from link2buy.com")
   ("Spam" "^CC: .*azzrael@@t-online.invalid")
   ("Spam" "^X-Mailer-Version: 1.50 BETA")
   ("Uni" "^\\(CC:\\|To:\\).*localpart@@uni-koblenz.invalid.*")
   ("Inbox" "^\\(CC:\\|To:\\).*\\(my\ name\\|address@@one.invalid\\|adress@@two.invalid\\)")
   ("Spam" "")))
@end lisp

@node FAQ 5 - Composing messages
@subsection メッセージの作成

@menu
* FAQ 5-1::  　メールを送信したりニュース記事を投稿するために知っ
               ている必要がある基本的なコマンドは何ですか?

* FAQ 5-2::  　メールを作成するとき、自動的に行を折り返すにはどう
               すれば良いですか?

* FAQ 5-3::  　From, Organization, Reply-To などのヘッダーを自動生
               成したり、定型の署名 (signature) を自動的に挿入する
               には、どうしたら良いですか?

* FAQ 5-4::  　投稿するグループによって異なる From ヘッダーや署名
               を自動挿入するには、どうすれば良いですか?

* FAQ 5-5::  　スペルチェッカーはありますか?  できれば、書いたその
               場でチェックしてくれるものがあれば良いのですが。

* FAQ 5-6::  　投稿するグループに基づいて、辞書 (スペルチェッカー
               の) を切り替えることはできますか?

* FAQ 5-7::  　全員の電子メールアドレスを思い出さなくても済むよう
               にするための、アドレス帳のようなものはありますか?

* FAQ 5-8::  　記事バッファーの上の方で、ときどき小さな画像を目に
               します。あれは何ですか?  また、どうしたら私も投稿す
               るときに付けることができますか?

* FAQ 5-9::  　ときどきニュースグループで、`f' の代わりにうっかり
               `r' を打ってしまいます。ニュースグループなのにもか
               かわらずメールで返信しようとしたときに、Gnus に警告
               してもらうことはできますか?

* FAQ 5-10:: 　Gnus が sender ヘッダーを生成しないようにするには、
               どうしたら良いですか?

* FAQ 5-11:: 　送信したメールやニュースの控えをローカルに残してお
               きたいのですが、どうすれば良いですか?

* FAQ 5-12:: 　送信に成功した後でそのバッファーを "Sent mail to..."
               として生かしたままにしておく代わりに kill するには
               どうしたら良いですか?

* FAQ 5-13:: 　Message-ID が不正だと言われてしまうのですが、それは
               なぜですか?  また、どうやって直したら良いですか?
@end menu

@node FAQ 5-1
@subsubheading 質問 5.1

メールを送信したりニュース記事を投稿するために知っている必要がある基本的
なコマンドは何ですか?

@subsubheading 回答

新しいメールの作成を始めるには、グループバッファーか概略バッファーのどち
らかで @kbd{m} を叩いてください。ニュース記事を投稿する場合には、グルー
プバッファーで @kbd{a} を叩いた後に手で Newsgroups ヘッダーに書き込むか、
投稿するグループの概略バッファーで @kbd{a} を叩いてください。

メールで返信する場合、元の記事を引用しないか後で手作業で引用するつもりな
らば @kbd{r} を、引用文を最初から取り込んでしまうのならば @kbd{R} を使っ
てください。ニュースグループでフォロー記事を投稿する場合であれ
ば @kbd{f} か @kbd{F} (@kbd{r} と @kbd{R} の関係に似ています) を使いましょ
う。

新たにヘッダーを挿入するならば @samp{--text follows this line--} の上に
書いて、本文はその下に書いてください。書き上がったメッセージを送信するコ
マンドは @kbd{C-c C-c} で、後で仕上げるために @samp{drafts} グループに保
存するためのコマンドは @kbd{C-c C-d} です。後者は @kbd{D e} で再び編集す
ることができます。

@node FAQ 5-2
@subsubheading 質問 5.2

メールを作成するとき、自動的に行を折り返すにはどうすれば良いですか?

@subsubheading 回答

No Gnus の場合は自動で行を折り返す機能がディフォルトで ON になります。変
数 @code{message-fill-column} を参照してください。

他の Gnus の版では、こんなものを @file{~/.gnus.el} ファイルに入れてくだ
さい:

@lisp
(unless (boundp 'message-fill-column)
  (add-hook 'message-mode-hook
            (lambda ()
              (setq fill-column 72)
              (turn-on-auto-fill))))
@end lisp

@noindent
いつもの通りに @kbd{M-q} を使うことによって、段落を再整形することができ
ます。

@node FAQ 5-3
@subsubheading 質問 5.3

From, Organization, Reply-To などのヘッダーを自動生成したり、定型の署
名 (signature) を自動的に挿入するには、どうしたら良いですか?

@subsubheading 回答

他のやり方もありますが、これのためには投稿様式 (posting styles) を使うべ
きです (理由は後で書きます)。この例ならば、その構文が明確にわかるはずで
す:

@lisp
(setq gnus-posting-styles
      '((".*"
         (name "Frank Schmitt")
         (address "me@@there.invalid")
         (organization "Hamme net, kren mer och nimmi")
         (signature-file "~/.signature")
         ("X-SampleHeader" "foobar")
         (eval (setq some-variable "Foo bar")))))
@end lisp

@noindent
@code{".*"} という設定はディフォルトのものです (@ref{FAQ 5-4} 参照)。そ
れ以降のリストの第一要素に使える値 (属性名) は @code{signature},
@code{signature-file}, @code{organization}, @code{address}, @code{name}
または @code{body} です。属性名は文字列でも構いません。その場合、属性名
はヘッダー名として使われ、その値は記事のヘッダーに挿入されます。ただし値
が @code{nil} だったら、その名前のヘッダーは削除されます。

@code{(eval (foo bar))} の形式を使うことも可能で、その場合 @code{bar} を
引数に与えられて関数 @code{foo} が評価され、結果は捨てられます。

@node FAQ 5-4
@subsubheading 質問 5.4

投稿するグループによって異なる From ヘッダーや署名を自動挿入するには、ど
うすれば良いですか?

@subsubheading 回答

これこそが投稿様式 (posting styles) の強みです。前の回
答 (@pxref{FAQ 5-3}) では、すべてのグループのためのディフォルトを設定す
るために @code{".*"} を使いました。これに @code{"^gmane"} のような正規表
現を使うと、それ以降の設定を gmane ニュースグループの階層で投稿する記事
だけに適用させることができます。代わりに @code{".*binaries"} を使うと、
名前などが @samp{binary} という文字列を含んでいるグループに投稿する記事
だけに、それらの設定が適用されます。

正規表現の代わりに関数を指定することもでき、それが評価されて真を返すとき
だけ、それに対応する設定が有効になります。これの興味深い二つの候補は、
現在のグループがニュースグループだったら @code{t} を返
す @code{message-news-p} と、それと対になる @code{message-mail-p} です。

すべての合致する様式が適用されることに注意してください。以下を例にすれば、
@samp{gmane.mail.spam.spamassassin.general} に投稿すると @code{".*"} で
始まる設定が適用され、@code{message-news-p} 以下の設定も適用され、
@code{"^gmane"} で始まる設定、それ
に @code{"^gmane\\.mail\\.spam\\.spamassassin\\.general$"} 以下の設定の
すべてが適用されるということです。このため、一般的な設定は先頭に置き、特
定の条件を持つものは下の方に置くのが良いでしょう。

@lisp
(setq
 gnus-posting-styles
 '((".*" ;;default
    (name "Frank Schmitt")
    (organization "Hamme net, kren mer och nimmi")
    (signature-file "~/.signature"))
   ((message-news-p) ;;Usenet news?
    (address "mySpamTrap@@Frank-Schmitt.invalid")
    (reply-to "hereRealRepliesOnlyPlease@@Frank-Schmitt.invalid"))
   ((message-mail-p) ;;mail?
    (address "usedForMails@@Frank-Schmitt.invalid"))
   ("^gmane" ;;this is mail, too in fact
    (address "usedForMails@@Frank-Schmitt.invalid")
    (reply-to nil))
   ("^gmane\\.mail\\.spam\\.spamassassin\\.general$"
    (eval (set (make-local-variable 'message-sendmail-envelope-from)
               "Azzrael@@rz-online.de")))))
@end lisp

@node FAQ 5-5
@subsubheading 質問 5.5

スペルチェッカーはありますか?  できれば、書いたその場でチェックしてくれ
るものがあれば良いのですが。

@subsubheading 回答

Emacs では単語の綴りをチェックするために @file{ispell.el} を使うことがで
きます。したがって最初に行なうのは、外部プログラ
ム @uref{http://fmg-www.cs.ucla.edu/fmg-members/geoff/ispell.html,
ispell} または同 @uref{http://aspell.sourceforge.net/, aspell} を適当
な path にインストールしておくことです。次
に @uref{http://www.kdstevens.com/~stevens/ispell-page.html,
ispell.el} と、書いたその場でスペルチェックをしてくれ
る @uref{http://www-sop.inria.fr/mimosa/personnel/Manuel.Serrano/flyspell/flyspell.html,
flyspell.el} を用意してください。@file{ispell.el} は Emacs とともに配布
されているだけではなく、XEmacs パッケージシステムによっても手に入れるこ
とができます。@file{flyspell.el} も Emacs に同梱されているのとともに、パッ
ケージシステムを介して入手することができ
る XEmacs の @code{text-modes} パッケージの一部です。したがって、それら
を個別にインストールする必要は無いはずです。

@file{ispell.el} は外部プログラム @samp{ispell} を使うことを想定していま
す。@samp{aspell} を選ぶなら、Emacs の設定ファイルで以下の宣言を行なって
ください (訳注: Emacs 22 以上では、@file{ispell.el} がそれらを自動判別し
ます):

@lisp
(setq ispell-program-name "aspell")
@end lisp

送出するメッセージがスペルチェックされるようにしたいなら以下の行を

@lisp
(add-hook 'message-send-hook 'ispell-message)
@end lisp

単語を書いたその場でスペルチェックすることを好むなら次の行を

@lisp
(add-hook 'message-mode-hook (lambda () (flyspell-mode 1)))
@end lisp

@noindent
@file{~/.gnus.el} ファイルに追加してください。

@node FAQ 5-6
@subsubheading 質問 5.6

投稿するグループに基づいて、辞書 (スペルチェッカーの) を切り替えることは
できますか?

@subsubheading 回答

はい、できます。こんなものを @file{~/.gnus.el} ファイルに入れてください:

@lisp
(add-hook 'gnus-select-group-hook
          (lambda ()
            (cond
             ((string-match
               "^de\\." (gnus-group-real-name gnus-newsgroup-name))
              (ispell-change-dictionary "deutsch8"))
             (t
              (ispell-change-dictionary "english")))))
@end lisp

@noindent
@code{"^de\\."} と @code{"deutsch8"} は、必要に応じて変更してください。

@node FAQ 5-7
@subsubheading 質問 5.7

全員の電子メールアドレスを思い出さなくても済むようにするための、アドレス
帳のようなものはありますか?

@subsubheading 回答

そのための非常に基本的な解は「メールの別名」(mail aliases) です。以下の
ように単純な別名の構文を使って、@file{~/.mailrc} ファイルにメールアドレ
スを登録しておくことができます:

@example
alias al        "Al <al@@english-heritage.invalid>"
@end example

@noindent
そうしておいて、メッセージバッファーの To: または Cc: 行で、別名に続いて
スペースか句読点をタイプすることによって、Gnus に完全なアドレスを挿入し
てもらうことができます。詳細は Message マニュアル (@pxref{Mail Aliases,
,メールの別名, message-ja, The Message Manual}) を参照してください。

でも、あなたが本当に使いたいのは BBDB (the Insidious Big Brother
Database) でしょう。XEmacs のパッケージシステムを使うか、
@uref{http://bbdb.sourceforge.net/, bbdb のホームページ} から入手してく
ださい。そして Gnus で BBDB を有効にするために、以下のもの
を @file{~/.gnus.el} ファイルに書き込んでください:

@lisp
(require 'bbdb)
(bbdb-initialize 'gnus 'message)
@end lisp

@noindent
さて、いくつかの一般的な BBDB の設定が必要かもしれません。それら
は @file{~/.emacs} ファイルに置きましょう。例です:

@lisp
(require 'bbdb)
;; 北アメリカに住んでいるのでなければ、以下によって電話番号の
;; チェックをやめさせるべきです。
(setq bbdb-north-american-phone-numbers-p nil)
;; あなたの電子メールアドレスを BBDB に教えましょう。
(setq bbdb-user-mail-names
      (regexp-opt '("Your.Email@@here.invalid"
                    "Your.other@@mail.there.invalid")))
;; メールアドレスを補完するときに、候補をエンドレスで出します。
;; cycling while completing email addresses
(setq bbdb-complete-name-allow-cycling t)
;; BBDB のバッファーをポップアップさせません。
(setq bbdb-use-pop-up nil)
@end lisp

@noindent
これで BBDB を使う準備ができたはずです。@kbd{M-x bbdb RET RET} で、すべ
ての登録した項目を表示する BBDB のバッファーを開いてください。新たに登録
するには @kbd{c}、検索には @kbd{b}、そして登録してある項目に新しいフィー
ルドを加えるには @kbd{C-o} を使いましょう。送信者を BBDB に登録するには、
概略バッファーのその記事の場所で単に @kbd{:} を叩くだけで、あなたの仕事
は終りです。一方、新規にメールを作成しているときに @kbd{TAB} を叩くこと
によって、順繰りに現れる候補の中から受取人を選ぶことができます。

@node FAQ 5-8
@subsubheading 質問 5.8

記事バッファーの上の方で、ときどき小さな画像を目にします。あれは何ですか?
また、どうしたら私も投稿するときに付けることができますか?

@subsubheading 回答

あの画像は X-Face というものです。ヘッダー行で 48×48 画素の白黒画像がエ
ンコードされています。それを送信する記事に含めたいなら、何かの画像
を X-Face に変換する必要があります。そうするには、何らかの画像を加工する
ためのプログラム (例えば Gimp) に点火して、記事に含めたい画像のファイル
を開き、必要な部分を切り抜いて、色の深度を 1-bit まで減らし、48×48 の大
きさに縮小または拡大して、bitmap としてファイルに保存してください。次
に @samp{compface} パッケージ
を @uref{ftp://ftp.cs.indiana.edu:/pub/faces/, このサイト} から入手して、
以下を実行することによって実際の X-Face を作りましょう:

@example
cat file.xbm | xbm2ikon | compface > file.face
cat file.face | sed 's/\\/\\\\/g;s/\"/\\\"/g;' > file.face.quoted
@end example

@noindent
@samp{compface} を使うことができなくても、オンラインの X-Face 変換器
が @uref{http://www.dairiki.org/xface/} にあります。MS Windows を使って
いるのならば、@uref{http://www.xs4all.nl/~walterln/winface/} か
ら @samp{WinFace} プログラムを取って来て使うこともできます。後は、送信す
る記事に X-Face を含めてくれるように Gnus に指示するだけです。それに
は @file{~/.gnus.el} ファイルに以下のようなものを入れてください:

@lisp
(setq message-default-headers
      (with-temp-buffer
        (insert "X-Face: ")
        (insert-file-contents "~/.xface")
        (buffer-string)))
@end lisp

@noindent
ただし Gnus 5.10 を使っているのであれば、単に次の項を

@example
(x-face-file "~/.xface")
@end example

@noindent
@code{gnus-posting-styles} に加えるだけで済みます。

@node FAQ 5-9
@subsubheading 質問 5.9

ときどきニュースグループで、@kbd{f} の代わりにうっかり @kbd{r} を打って
しまいます。ニュースグループなのにもかかわらずメールで返信しようとしたと
きに、Gnus に警告してもらうことはできますか?

@subsubheading 回答

もう Gnus 5.10 を使っているのであれば、これを @file{~/.gnus.el} ファイル
に入れてください:

@lisp
(setq gnus-confirm-mail-reply-to-news t)
@end lisp

@noindent
まだ 5.8.8 や 5.9 を使っているのなら、代わりにこれをどうぞ:

@lisp
(eval-after-load "gnus-msg"
  '(unless (boundp 'gnus-confirm-mail-reply-to-news)
     (defadvice gnus-summary-reply (around reply-in-news activate)
       "Request confirmation when replying to news."
       (interactive)
       (when (or (not (gnus-news-group-p gnus-newsgroup-name))
                 (y-or-n-p "Really reply by mail to article author? "))
         ad-do-it))))
@end lisp

@node FAQ 5-10
@subsubheading 質問 5.10

Gnus が sender ヘッダーを生成しないようにするには、どうしたら良いですか?

@subsubheading 回答

Gnus 5.10 はディフォルトで sender ヘッダーを作らないのですけれどね。まだ
古い Gnus を使っているのなら、@file{~/.gnus.el} ファイルでこれを試してく
ださい:

@lisp
(add-to-list 'message-syntax-checks '(sender . disabled))
@end lisp

@node FAQ 5-11
@subsubheading 質問 5.11

送信したメールやニュースの控えをローカルに残しておきたいのですが、どうす
れば良いですか?

@subsubheading 回答

それを行なうためには変数 @code{gnus-message-archive-group} を設定しなけ
ればなりません。それには、控えを保存しておくグループの名前を与える文字列
を設定することができます。あるいは以下の例のように、評価されるとグループ
名を返す関数 (訳注: と言うよりは Lisp の式) を設定することもできます。

@lisp
(setq gnus-message-archive-group
      '((if (message-news-p)
            "nnml:Send-News"
          "nnml:Send-Mail")))
@end lisp

@node FAQ 5-12
@subsubheading 質問 5.12

送信に成功した後でそのバッファーを "Sent mail to..." として生かしたまま
にしておく代わりに kill するにはどうしたら良いですか?

@subsubheading 回答

@file{~/.gnus.el} ファイルにこれを加えてください:

@example
(setq message-kill-buffer-on-exit t)
@end example

@node FAQ 5-13
@subsubheading 質問 5.13

Message-ID が不正だと言われてしまうのですが、それはなぜですか?  また、ど
うやって直したら良いですか?

@subsubheading 回答

Message-ID は、送信したメッセージが、それがそれであることを確認するため
のものです。それが、あるメッセージにとって固有であるようにするために、
Gnus は @samp{@@} の後に置くマシン名を知る必要があります。Gnus が走って
いるマシンの名前が適切ではないならば (ほとんどの個人のマシンが該当するで
しょう)、Gnus が使う名前を以下のように @file{~/.gnus.el} ファイルで設定
してください:

@lisp
(setq message-user-fqdn "yourmachine.yourdomain.tld")
@end lisp

@noindent
Gnus 5.9 かそれ以前のものを使っている場合は、代わりにこれを使ってくださ
い (新しい版でも動作します):

@lisp
(let ((fqdn "yourmachine.yourdomain.tld")) ;; <-- 変更してね!
  (if (boundp 'message-user-fqdn)
      (setq message-user-fqdn fqdn)
    (gnus-message 1 "Redefining `message-make-fqdn'.")
    (defun message-make-fqdn ()
      "Return user's fully qualified domain name."
      fqdn)))
@end lisp

@noindent
@code{"yourmachine.yourdomain.tld"} に何を入れるかを決めることができない
ならば、複数の選択肢があります。あなた
が @samp{yourUserName.userfqdn.provider.net} のようなものを使っても良い
かどうかをプロバイダーに尋ねてみても良いし、個人でドメイ
ン @samp{yourdomain.tld} を保有している場合
は @samp{somethingUnique.yourdomain.tld} のようなものを使うことができま
す。あるいは、ユーザーに無料で FQDN を提供してくれるサービスに登録するの
も良いでしょう。

最後に、Gnus にニュース記事では Message-ID をまったく作らせない (そして
その仕事はサーバーに任せる) ことができます。以下の設定を使ってください:

@lisp
(setq message-required-news-headers
      (remove' Message-ID message-required-news-headers))
@end lisp

@noindent
さらに次の設定によって、メールでも Gnus に Message-ID を作らせないことは
可能です:

@lisp
(setq message-required-mail-headers
      (remove' Message-ID message-required-mail-headers))
@end lisp

@noindent
しかしながら、メールサーバーのあるものは適切な Message-ID を作ってくれな
いので、自分でメールを送信して Message-ID を眺めてみることによって、あな
たのメールサーバーが正しく振る舞うかどうかをテストしてください。

@node FAQ 6 - Old messages
@subsection 古いメッセージ

@menu
* FAQ 6-1:: 　Gnus を使っていなかったときの古いメールを、Gnus に編
              入させるにはどうしたら良いですか?

* FAQ 6-2:: 　興味を持った記事を保存するにはどうすれば良いですか?

* FAQ 6-3:: 　指定したメッセージを探すにはどうしたら良いですか?

* FAQ 6-4:: 　要らなくなった古いメールを削除するにはどうすれば良い
              ですか?

* FAQ 6-5:: 　読み終わったすべてのメッセージを期限切れ消去したいの
              ですが (少なくともいくつかのグループで)、どうしたら
              良いですか?

* FAQ 6-6:: 　期限が来たメールを削除するのではなくて、他のグループ
              に移動させたいのですが。
@end menu

@node FAQ 6-1
@subsubheading 質問 6.1

Gnus を使っていなかったときの古いメールを、Gnus に編入させるにはどうした
ら良いですか?

@subsubheading 回答

最も楽な方法は、古いメールプログラムにメッセージを @samp{mbox} 形式にま
とめてもらうことです。ほとんどの Unix のメイラーはそれをすることができ、
あなたが MS Windows の世界の出身であって
も @uref{http://mbx2mbox.sourceforge.net/} で、そのための道具を見つける
ことができるでしょう。

では、この @samp{mbox} ファイルを Gnus に編入させましょう。それにはグルー
プバッファーで @kbd{G f /path/file.mbox RET} を実行して、@samp{mbox} ファ
イルを扱うための @code{nndoc} グループを作ってください。そうすれば、あな
たのメールに読み出し専用でアクセスできるようになります。そのメッセージを
通常の Gnus のメールグループの階層に編入させたいならば、たった今作っ
た @code{nndoc} グループに @kbd{C-u RET} 命令で入って (つまりすべてのメッ
セージが読めるようにしておいて)、すべてのメッセージに @kbd{M P b} で印を
付けてから、それらをお望みのグループに @kbd{B c name.of.group RET} でコ
ピーするか、または @code{nnmail-split-methods} を使ってそれらを分割 (再
スプール) するために @kbd{B r} を使ってください。

@node FAQ 6-2
@subsubheading 質問 6.2

興味を持った記事を保存するにはどうすれば良いですか?

@subsubheading 回答

例えば @samp{gnu.emacs.gnus} で興味深い記事に出くわして、それを保存しよ
うと思ったときには、複数の解があります。第一の最もやさしい方法は、
@kbd{O f} 命令を使ってそれをファイルに保存することです。でもそれは、
Gnus から保存されたメッセージをより直接にアクセスする手段としては、とて
も便利だとは言えないのではないでしょうか?  それに同意してくれるのならば、
Frank Haun @email{pille3003@@fhaun.de} が書いてくれたこのコードの切れ端
を @file{~/.gnus.el} ファイルに入れてみてください:

@lisp
(defun my-archive-article (&optional n)
  "一個以上の記事を、対応する `nnml:' グループにコピーします。
例えば `gnus.ding' の記事は `nnml:1.gnus.ding' グループに行き、
`nnml:List-gnus.ding' の記事は `nnml:1.List-gnus-ding' に行きます。

一個以上の記事を保存するには、概略バッファーでプロセス/接頭引数の
習慣を使ってください。"
  (interactive "P")
  (let ((archive-name
         (format
          "nnml:1.%s"
          (mm-replace-in-string gnus-newsgroup-name "^.*:" ""))))
    (gnus-summary-copy-article n archive-name)))
@end lisp

訳注: @xref{Process/Prefix, ,プロセス/接頭引数, gnus-ja, The Gnus
Manual}.

@noindent
これにより、概略バッファーで @kbd{M-x my-archive-article} を実行すれば、
指定した記事を @code{nnml} グループに保存することができます。

もちろん、以下の設定によってキャッシュを常に有効にすることもできます:

@lisp
(setq gnus-use-cache t)
@end lisp

@noindent
これによって、維持したい記事には可視 (ticked) か保留 (dormant) の印を付
けるだけで済むようになります。また、既読 (read) の印を付けることによって、
それらの記事はキャッシュから削除されます。

@node FAQ 6-3
@subsubheading 質問 6.3

指定したメッセージを探すにはどうしたら良いですか?

@subsubheading 回答

これにも複数の方法があります。Usenet グループに投稿されたものについては、
おそらく @uref{http://groups.google.com, groups.google.com} に尋ねるのが
最も楽な解決方法です。そこで見つかったならば、Google に生の記事を表示し
てもらって Message-ID を探し、概略バッファーで @kbd{M-^ the@@message.id
RET} を実行してください。さらに Gnus 5.10 以降で
は @samp{groups.google.com} へのインターフェースがあるので、グループバッ
ファーで @kbd{G W} を使うこともできます。

メールとニュースの両方のグループで動作するもう一つの方法は、探しているメッ
セージが存在するグループに入って、Emacs の標準の探索コマンドであ
る @kbd{C-s} を使うことです。それは壊れたスレッドにある記事を探すために
も十分に賢いものです。本文の中で探したいのならば、代わりに @kbd{M-s} を
試してください。さらに付け加えると、これも役に立
つ @code{gnus-summary-limit-to}-* コマンド群があります。

もちろんローカルに保存されているメールを @samp{grep} で探すこともできま
すが、大きなアーカイブが相手だと遅いし、見つかったメールを Gnus で表示す
るわけではないので不便でもあります。そこで @code{nnir} の出番がやってき
ました。@code{nnir} は @samp{swish-e}, @samp{swish++} および他の検索エン
ジンへのフロントエンドです。それらの検索エンジンの一つを使ってメールに索
引を付けておけば、@code{nnir} の助けを借りることによって、索引が付けられ
たメールを探して、検索の基準に合致するすべてのメールを含む一時的なグルー
プを作ることができます。これがクールに聞こえるなら、
@uref{ftp://ls6-ftp.cs.uni-dortmund.de/pub/src/emacs/} また
は @uref{ftp://ftp.is.informatik.uni-duisburg.de/pub/src/emacs/} か
ら @file{nnir.el} を持って来ましょう。使い方の説明は、そのファイルの始め
の方にあります。

@node FAQ 6-4
@subsubheading 質問 6.4

要らなくなった古いメールを削除するにはどうすれば良いですか?

@subsubheading 回答

もはや要らなくなったメールにポイントを置いて @kbd{#} で印を付けてから、
それらを @kbd{B DEL} で永久に消してしまうことは、もちろんできます。さら
に、それらを実際に消してしまう代わりに @kbd{B m nnml:trash-bin} を使って
ジャンク・グループ (それは時々消さなければなりません) に送ることもできる
のですが、両方とも Gnus が意図するやり方ではありません。

Gnus では、ニュースサーバーでニュース記事が期限切れ消去されるように、メー
ルも消します。そうするためには、概略バッファーのそのメールの上
で @kbd{E} を叩くことによって、そのメールが期限切れ消去可能であること
を (「このメールはもう要らないよ」と) Gnus に伝えれば良いのです。すると、
そのグループを抜け出たときに、Gnus は以前に印が付けられたすべてのメッセー
ジを検査して、十分に古くなった (ディフォルトでは一週間より古くなった) メー
ルを消去します。

@node FAQ 6-5
@subsubheading 質問 6.5

読み終わったすべてのメッセージを期限切れ消去したいのですが (少なくともい
くつかのグループで)、どうしたら良いですか?

@subsubheading 回答

読み終わったすべてのメッセージが期限切れ消去されるようにしたいなら (例え
ばオンラインのアーカイブが別に存在しているメーリングリストで)、
@code{auto-expire} と @code{total-expire} という二つの選択肢があります。
@code{auto-expire} というのは、印が付いていないけれども読むために選択さ
れたことがあるすべての記事に期限切れ消去可能の印が付けられることで、メッ
セージを読むたびに Gnus が @kbd{E} を叩いてくれるようなものです。
@code{total-expire} は少し異なるやり方に従っていて、既読の印が付けられた
すべての記事が期限切れ消去可能になります。

@code{auto-expire} を有効にするには、そのグループのグループパラメーター
に @code{auto-expire} を含めてください (グループバッファーでグループパラ
メーターを変更するグループの上にポイントを置いて @kbd{G c} を叩きます)。
@code{total-expire} の方は、グループパラメーター
に @code{total-expire} を加えてください。

どちらの手段を選ぶかは、単に好みの問題です。@code{auto-expire} は速いの
ですが、適応スコア付けと共存できないので、この機能を使いたい場合
は @code{total-expire} を使わなければなりません。

@code{total-expire} か @code{auto-expire} が設定されているグループで、あ
るメッセージを期限切れ消去の対象から外したい場合には、@kbd{u} で可
視 (ticked) の印を付けるか @kbd{?} で保留 (dormant) の印を付けてください。
@code{auto-expire} を使っている場合は、さらに @kbd{d} で既読の印を付ける
ことができます。

@node FAQ 6-6
@subsubheading 質問 6.6

期限が来たメールを削除するのではなくて、他のグループに移動させたいのです
が。

@subsubheading 回答

@file{~/.gnus.el} ファイルに、このようなものを書き込んでください:

@lisp
(setq nnmail-expiry-target "nnml:expired")
@end lisp

@noindent
(@code{nnmail-expiry-target} にグループによって異なる値を設定したい場合
には、質問「いくつかの (例えばメールの) グループで、スレッド表示をさせな
くすることはできますか?  あるいは、いくつかのグループに固有の変数を設定
することができますか?」(@pxref{FAQ 4-10}) を参照してください。)

@node FAQ 7 - Gnus in a dial-up environment
@subsection ダイアルアップ環境で Gnus を使う

@menu
* FAQ 7-1:: 　ネットに常時接続していないのですが、どうしたら接続す
              る時間を最小限にできますか?

* FAQ 7-2:: 　ならば、それのエージェントに関係するものは何ですか?

* FAQ 7-3:: 　記事の本文もディスクに格納したいのですが、どうすれば
              良いですか?

* FAQ 7-4:: 　オフラインのときに Gnus にメールやニュース記事を送信
              させないようにするには、どうしたら良いですか?
@end menu

@node FAQ 7-1
@subsubheading 質問 7.1

ネットに常時接続していないのですが、どうしたら接続する時間を最小限にでき
ますか?

@subsubheading 回答

二つのやり方があります。一つは Gnus エージェントを使うこ
と (@pxref{FAQ 7-2}) で、もう一方はニュース記事とメールをローカルディス
クに取り込むプログラムをインストールして、Gnus にそれらをローカルマシン
から読んでもらう方法です。

二つ目のやり方で行きたいのなら、ニュース記事を取り込んでそれらを Gnus に
渡すプログラム、同じことをメールに対して行なうプログラム、およびあなたが
書いたメールを Gnus から受け取って、オンラインになったらそれらを送信する
プログラムが必要です。

最初に Unix システムについて書きましょう。ニュース記事を取り込むための最
も安易な解は、@uref{http://www.leafnode.org/,
Leafnode} や @uref{http://infa.abo.fi/~patrik/sn/, sn} のように小規模
な @acronym{NNTP} サーバーを使うことです。もちろ
ん @uref{http://www.isc.org/products/INN/, inn} のような本格的なニュース
サーバーをインストールすることもできます。メールの取り込みに使うもので人
気があるのは @uref{http://www.catb.org/~esr/fetchmail/, fetchmail} およ
び @uref{http://www.qcc.ca/~charlesc/software/getmail-3.0/, getmail} で
す。それらにメールをディスクに書き込むように指示してください。Gnus はそ
こから読むことになります。最後ですがおろそかにできないのはメールの送信で
す。これにはあらゆる MTA、例えば @uref{http://www.sendmail.org/,
sendmail}, @uref{http://www.qmail.org/, postfix},
@uref{http://www.exim.org/, exim} または @uref{http://www.qmail.org/,
qmail} を使うことができます。

Windows 小屋のためには @uref{http://www.tglsoft.de/, Hamster} を推します。
それは小さくてフリーなオープンソースのプログラムで、遠隔サーバーからメー
ルとニュースを取り込んで、@acronym{NNTP} および @acronym{POP3} また
は @acronym{IMAP} のそれぞれを介して Gnus (あるいは他のメール/ニュースリー
ダー) に渡します。さらにそれは Gnus が送信するメールを受け取るため
の @acronym{SMTP} サーバーも含んでいます。

@node FAQ 7-2
@subsubheading 質問 7.2

ならば、それのエージェントに関係するものは何ですか?

@subsubheading 回答

Gnus エージェントは Gnus の一部で、メールとニュースを取り込んでディスク
に格納し、後でオフラインのときにそれらを読むことができるようにします。そ
れは、言うならば、例えば Forte Agent のようなオフライン・ニュースリーダー
の真似をします。まだ 5.8.8 か 5.9 を使っていてエージェントを使いたければ、
以下の行を @file{~/.gnus.el} ファイルに書き込んでください (これ
は 5.10 からディフォルトになっています):

@lisp
(setq gnus-agent t)
@end lisp

@noindent
そうしたら、数あるグループをローカルに格納することができるサーバーを選ば
なければなりません。そのためには、サーバーバッファーを開いて (グループバッ
ファーで @kbd{^} を押して) ください。そして、選んだサーバー名の場所にポ
イントを移動させましょう。最後に @kbd{J a} をタイプして、そのサーバーを
エージェント化してください。もし間違ってしまったら、あるいは気が変わった
ら、@kbd{J r} をタイプすれば元に戻すことができます。終わった
ら @kbd{q} をタイプして、グループバッファーに戻ってください。次回エージェ
ント化されたサーバーのグループに入るとヘッダーがディスクに格納され、その
次の回にグループバッファーに入ると、そこ (ディスク) から読むようになりま
す。

@node FAQ 7-3
@subsubheading 質問 7.3

記事の本文もディスクに格納したいのですが、どうすれば良いですか?

@subsubheading 回答

ある述語を満足させる記事の本文を自動的に取り込むように、エージェントに指
示することができます。それは、グループバッファーで @kbd{J c} 命令を使う
ことによって行くことができる、特別なバッファーで行ないます。どの述語を使
うことができるか、およびそれを正しく行なう方法に関する情報について
は Gnus のマニュアルを参照してください。

さらに、どの記事をディスクに格納するかを、手作業でエージェントに指示する
こともできます。それには二つのやり方があります:

@enumerate
@item
概略バッファーで、@kbd{#} 命令を実行してエージェントに格納されるべき記事
にプロセス印を付けてから、@kbd{J s} をタイプしてください。

@item
概略バッファーで、@kbd{@@} 命令を実行して欲しい記事にダウンロード可能
印 (@samp{%}) を付けてから、@kbd{J u} をタイプしてください。
@end enumerate

どんな違いがあるのかって?  えーと、ダウンロード可能印が永久的なのに対し
て、プロセス印は概略バッファーを抜け出たとたんに消される点です。実際、複
数のグループでダウンロード可能印を設定して、それらすべての記事を (グルー
プバッファーで @kbd{J s} 命令を使うことによって) まとめて取り込むことが
できます。唯一の欠点は、エージェント化されているサーバーの、選択されたす
べてのグループのヘッダーをも取り込んでしまうことです。ヘッダーの量にもよ
りますが、最初の取り込みには何時間もかかるかもしれません。

@node FAQ 7-4
@subsubheading 質問 7.4

オフラインのときに Gnus にメールやニュース記事を送信させないようにするに
は、どうしたら良いですか?

@subsubheading 回答

現在の状態がオンライン (plugged) かオフライン (unplugged) かを、Gnus に
言ってあげなければなりません。それ以外のもろもろのことは自動的にやってく
れます。plugged と unplugged の切り替えは、グループバッファー
で @kbd{J j} 命令を実行することによって行なうことができます。
Gnus を unplugged の状態で起動したいなら、@kbd{M-x gnus} の代わり
に @kbd{M-x gnus-unplugged} を使ってください。ただし、これが働くためには
エージェントを有効にしなければならないことに注意してください。

@node FAQ 8 - Getting help
@subsection 助けを得る

@menu
* FAQ 8-1:: 　Emacs の中で情報を探したり助けを求めるには、どうすれ
              ば良いですか?

* FAQ 8-2:: 　Gnus のマニュアルの中で、あることがら (例えば添付
              ファイル、PGP、MIME...) に関する情報を、何も見つける
              ことができません。それらは書かれていないのですか?

* FAQ 8-3:: 　私はどのウェブサイトを知っていなければなりませんか。

* FAQ 8-4:: 　どんなメーリングリストとニュースグループがあります
              か。

* FAQ 8-5:: 　バグはどこに報告すれば良いですか?

* FAQ 8-6:: 　その場で即座に得られる助け (real-time help) が欲しい
              のですが、どこで見つかりますか?
@end menu

@node FAQ 8-1
@subsubheading 質問 8.1

Emacs の中で情報を探したり助けを求めるには、どうすれば良いですか?

@subsubheading 回答

最初に立ち寄るべき場所は Gnus マニュアルです (@kbd{C-h i d m Gnus
RET} で Gnus マニュアルを開いたら、メニューを眺め回すか @kbd{s} でテキス
ト全体を探してください)。一方 Emacs には標準のヘルプ・コマンドがあって、
それには @kbd{C-h} ともう一つのキーを使います (@kbd{C-h ? ?} をタイプす
ると、利用可能なヘルプ・コマンドとそれらの意味が現れます)。さら
に @kbd{M-x apropos-command} で利用可能なすべてのコマンドを、
@samp{M-x apropos} で存在する変数を探すことができます。

@node FAQ 8-2
@subsubheading 質問 8.2

Gnus のマニュアルの中で、あることがら (例えば添付ファイル、PGP、
MIME...) に関する情報を、何も見つけることができません。それらは書かれて
いないのですか?

@subsubheading 回答

Gnus マニュアル以外に message, emacs-mime, sieve および pgg のマニュアル
があります。それらのパッケージは Gnus とともに配布され、Gnus によって使
われますが、真に Gnus の核心部分ではないので別の info ファイルで文書化さ
れています。あなたはそれらのマニュアルも覗いてみるべきでしょう。

@node FAQ 8-3
@subsubheading 質問 8.3

私はどのウェブサイトを知っていなければなりませんか。

@subsubheading 回答

二つの最も重要なもの
は @uref{http://www.gnus.org, 公式 Gnus ウェブサイト} と、その姉妹サイト
である @uref{http://my.gnus.org, my.gnus.org (MGO)} です。後者に
は Lisp の断片、HowTo、チュートリアル (未完成)、およびこの FAQ がありま
す。

他にも興味深いサイトがあったら教えてください。

@node FAQ 8-4
@subsubheading 質問 8.4

どんなメーリングリストとニュースグループがありますか。

@subsubheading 回答

Gnus の一般的な質問を取り扱うニュースグループとし
て @samp{gnu.emacs.gnus} がありま
す (@uref{http://dir.gmane.org/gmane.emacs.gnus.user,
gmane.emacs.gnus.user} でも利用可) 。開発版の Gnus に対する質問があるの
なら、ding メーリングリストで尋ねる方が良いはずです。以下を参照してくだ
さい。

Big8 (訳注: comp, humanities, misc, news, rec, sci, soc, talk の八大ニュー
スグループ) にとどまっていたいのならば、
@samp{news.software.readers} もまた、いくらかの Gnus のユーザーによって
読まれています (でも、的確な助けを得ることができる見込みという点では、上
記のグループの方がはるかに良いでしょう)。ドイツ語を話す人向けに
は @samp{de.comm.software.gnus} があります。

ding メーリングリスト (ding@@gnus.org) は Gnus の開発を扱います。ding リ
ストは news.gmane.org にあ
る @uref{http://dir.gmane.org/gmane.emacs.gnus.general,
gmane.emacs.gnus.general} を NNTP 経由で読むこともできます。

@node FAQ 8-5
@subsubheading 質問 8.5

バグはどこに報告すれば良いですか?

@subsubheading 回答

@kbd{M-x gnus-bug} 命令を使うことによって @email{bugs@@gnus.org, gnus
bug メーリングリスト} に送るメッセージを書き始めることができます。それに
はあなたを助けやすくするための、あなたの環境に関する情報が添付されます。
(訳注: 2005年の暮れの時点では、このメーリングリストはまともに機能してい
ません。)

@node FAQ 8-6
@subsubheading 質問 8.6

その場で即座に得られる助け (real-time help) が欲しいのですが、どこで見つ
かりますか?

@subsubheading 回答

あなたの @acronym{IRC} を @samp{irc.freenode.net} の @samp{#mygnus} チャ
ンネルに接続してください。

@node FAQ 9 - Tuning Gnus
@subsection Gnus をチューンする

@menu
* FAQ 9-1:: 　Gnus の起動が本当に遅いのですが、どうしたら速くする
              ことができますか?

* FAQ 9-2:: 　グループに入るときの動作を速くするには、どうすれば良
              いですか?

* FAQ 9-3:: 　メールの送信が遅くなってしまいました。何が起きたので
              しょう?
@end menu

@node FAQ 9-1
@subsubheading 質問 9.1

Gnus の起動が本当に遅いのですが、どうしたら速くすることができますか?

@subsubheading 回答

この原因は、Gnus が active ファイルを読む方法に関係していることがあり得
ます。Gnus マニュアルの @pxref{The Active File, ,アクティブファイル,
gnus-ja, The Gnus Manual} を参照してください。そこには、その処理を速くす
るために試してみる価値があることがらがあります。もう一つの案
は、@file{~/.gnus.el} ファイルをバイトコンパイルするこ
と (@kbd{M-x byte-compile-file RET ~/.gnus.el RET} を実行すること) です。
最後に、@file{~/.gnus.el} ファイルで @code{require} を使っているならば、
それらを @code{eval-after-load} で置き換えることができるでしょう。それは
対象のモジュールを起動時ではなく、必要になったときに読み込むようにします。
あなたの @file{~/.gnus.el} ファイルに以下のようなものがある場合には、

@lisp
(require 'message)
(add-to-list 'message-syntax-checks '(sender . disabled))
@end lisp

@noindent
Gnus を起動したとたんに @file{message.el} が読み込まれます。これを次のよ
うに置き換えると、

@lisp
(eval-after-load "message"
  '(add-to-list 'message-syntax-checks '(sender . disabled)))
@end lisp

@noindent
それは必要になったときに読み込まれるようになります。

訳注: 原典の例は不適切です。現在の Gnus は多くの主要なモジュールを起動時
に load するようになっていて、例えば @file{message.el} モジュール
は @file{~/.gnus.el} ファイルを読み込む時点ですでに load されています。
ですから少なくとも @file{message.el} モジュールに対して
は @code{require} も @code{eval-after-load} も使う必要がありません。実害
はありませんが何の効果もありません。変数 @code{message-syntax-checks} に
項目を追加する上記の例は、単に以下のように書けば十分です。

@lisp
(add-to-list 'message-syntax-checks '(sender . disabled))
@end lisp

@node FAQ 9-2
@subsubheading 質問 9.2

グループに入るときの動作を速くするには、どうすれば良いですか?

@subsubheading 回答

スピードの殺し屋は、@code{nil} 以外の値を設定され
た @code{gnus-fetch-old-headers} 変数です。ですからスピードが問題なので
あれば、それをやらないでください。概略バッファーの構築を速くするには、

@lisp
(gnus-compile)
@end lisp

@noindent
を @file{~/.gnus.el} ファイルの最後に書き込んでください。これによっ
て Gnus は @code{gnus-summary-line-format} のようなものをバイトコンパイ
ルします。(訳注: それを行なうと @file{~/.newsrc.eld} ファイルにバイナリー
コードが書き込まれるので、非-ASCII テキストで表現されたトピック名などと
共存できなくなる危険があります。)

それから、@file{~/.emacs} に以下のようなものを書き込んで、
@code{gc-cons-threshold} の値を増やしてみてください。

@lisp
(setq gc-cons-threshold 3500000)
@end lisp

@noindent
CJK (中国語/日本語/韓国語) の文字の幅を気にしないのならば、または最近
の Emacs とともに Gnus 5.10 かそれより新しいものを使っているのならば、
次の行を @file{~/.gnus.el} ファイルに入れましょう:

@lisp
(setq gnus-use-correct-string-widths nil)
@end lisp

訳注: @xref{Wide Characters, ,Wide Characters, gnus-ja, The Gnus
Manual}, も参照してください。

@noindent
(これら二つの提言をしてくれた Jesper harder さんに感謝します。)

最後に、まだ 5.8.8 か 5.9 を使っていて、概略バッファーを構築する場合の速
度に問題があることを経験するのであれば、絶対に 5.10 に上げるべきです。そ
こではそれを改善するための、並外れた作業が行なわれました。

@node FAQ 9-3
@subsubheading 質問 9.3

メールの送信が遅くなってしまいました。何が起きたのでしょう?

@subsubheading 回答

その理由は、@code{gnus-message-archive-group} 変数の設定によって、送信メッ
セージの控えを保存する場所や方法を変更したせいかもしれません。アーカイブ
グループの代わりに @code{nnml} グループを使ってみてください。そうすれば
正常な速度が戻ってくるはずです。

@node FAQ - Glossary
@subsection 用語集

@table @dfn
@item ~/.gnus.el
@file{~/.gnus.el} という用語が使われるとき、それは Gnus の設定ファイルを
指します。それを @file{~/.gnus} と呼ぶか、あるいは別名を指定しても構いま
せん。

@item Back End
Gnus の用語大系では、バックエンドは Gnus の核心部分と実際のサーバーの間
の層に位置を占める仮想サーバーのことです。実際のサーバーとは、
@acronym{NNTP} サーバー、@acronym{POP3} サーバー、@acronym{IMAP} サーバー、
または、何であれ「メッセージの取得」や「ヘッダーの取得」を行なうサーバー
の機能を持つ関数のことです。

@item Emacs
この FAQ で使われている Emacs という用語は、GNU Emacs か XEmacs のどちら
かを指します。

@item Message
この FAQ で「メッセージ」はそれがどんな種類のものでも、メール、また
は Usenet ニュースグループか他の何らかの特製のバックエンドに送られるニュー
ス記事のどちらかを意味します。

@item MUA
MUA は Mail User Agent の頭字語で、電子メールを読んだり書いたりするため
のプログラムのことです。

@item NUA
NUA は News User Agent の頭字語で、Usenet ニュースを読んだり書いたりする
ためのプログラムのことです。
@end table

@c Local Variables:
@c coding: iso-2022-7bit
@c fill-column: 72
@c mode: texinfo
@c use-kuten-for-period: t
@c use-touten-for-comma: t
@c End:
